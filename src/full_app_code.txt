This file contains a snapshot of all the files in the project.

==================================================
File: .env
==================================================



==================================================
File: README.md
==================================================

# Firebase Studio

This is a NextJS starter in Firebase Studio.

To get started, take a look at src/app/page.tsx.


==================================================
File: apphosting.yaml
==================================================

# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 1


==================================================
File: components.json
==================================================

{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}

==================================================
File: next.config.js
==================================================

/** @type {import('next').NextConfig} */
const nextConfig = {};

export default nextConfig;


==================================================
File: package.json
==================================================

{
  "name": "nextn",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "next dev -p 9002",
    "genkit:dev": "genkit start -- tsx src/ai/dev.ts",
    "genkit:watch": "genkit start -- tsx --watch src:ai/dev.ts",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "typecheck": "tsc --noEmit"
  },
  "dependencies": {
    "@genkit-ai/googleai": "1.19.1",
    "@genkit-ai/next": "1.19.1",
    "@hookform/resolvers": "3.10.0",
    "@radix-ui/react-accordion": "^1.2.0",
    "@radix-ui/react-alert-dialog": "^1.1.1",
    "@radix-ui/react-avatar": "^1.1.0",
    "@radix-ui/react-checkbox": "^1.1.1",
    "@radix-ui/react-collapsible": "^1.1.0",
    "@radix-ui/react-dialog": "^1.1.1",
    "@radix-ui/react-dropdown-menu": "^2.1.1",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-menubar": "^1.1.1",
    "@radix-ui/react-popover": "^1.1.1",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-radio-group": "^1.2.0",
    "@radix-ui/react-scroll-area": "^1.1.0",
    "@radix-ui/react-select": "^2.1.1",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-slider": "^1.2.0",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.0",
    "@radix-ui/react-tabs": "^1.1.0",
    "@radix-ui/react-toast": "^1.2.1",
    "@radix-ui/react-tooltip": "^1.1.2",
    "chess.js": "^1.0.0-beta.8",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.1.1",
    "date-fns": "^3.6.0",
    "dotenv": "^16.4.5",
    "embla-carousel-react": "^8.1.6",
    "firebase": "^10.12.3",
    "genkit": "1.19.1",
    "jsqr": "^1.4.0",
    "lucide-react": "^0.475.0",
    "next": "15.0.0-rc.0",
    "node-fetch": "^3.3.2",
    "react": "19.0.0-rc-f994737d14-20240522",
    "react-day-picker": "^8.10.1",
    "react-dom": "19.0.0-rc-f994737d14-20240522",
    "react-hook-form": "7.52.1",
    "recharts": "^2.12.7",
    "tailwind-merge": "^2.4.0",
    "tailwindcss-animate": "^1.0.7",
    "zod": "^3.23.8"
  },
  "devDependencies": {
    "@types/jsqr": "^1.4.0",
    "@types/node": "^20.14.10",
    "@types/react": "^18.3.3",
    "@types/react-dom": "^18.3.0",
    "genkit-cli": "1.19.1",
    "postcss": "^8.4.39",
    "tailwindcss": "^3.4.4",
    "typescript": "^5.5.3"
  }
}

==================================================
File: src/ai/dev.ts
==================================================

import { config } from 'dotenv';
config();

import '@/ai/flows/generate-text-formats.ts';
import '@/ai/flows/translate-text.ts';
import '@/ai/flows/remove-photo-background.ts';
import '@/ai/flows/solve-math-problems.ts';
import '@/ai/flows/edit-photo.ts';
import '@/ai/flows/get-chess-move.ts';
import '@/ai/flows/build-app.ts';
import '@/ai/flows/generate-logo.ts';
import '@/ai/flows/convert-currency.ts';
import '@/ai/flows/generate-chat-response.ts';


==================================================
File: src/ai/flows/build-app.ts
==================================================

'use server';

/**
 * @fileOverview An AI agent that builds a new Next.js app page based on a prompt.
 *
 * - buildApp - A function that generates the code for a new app page.
 * - BuildAppInput - The input type for the buildApp function.
 * - BuildAppOutput - The return type for the buildApp function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

export const BuildAppInputSchema = z.object({
  prompt: z.string().describe('A detailed description of the application to be built.'),
  features: z.array(z.string()).optional().describe('A list of pre-defined features to include in the app.'),
});
export type BuildAppInput = z.infer<typeof BuildAppInputSchema>;

export const BuildAppOutputSchema = z.object({
    code: z.string().describe('The generated TypeScript code for the Next.js React component.'),
});
export type BuildAppOutput = z.infer<typeof BuildAppOutputSchema>;

export async function buildApp(input: BuildAppInput): Promise<BuildAppOutput> {
  return buildAppFlow(input);
}

const buildAppPrompt = ai.definePrompt({
  name: 'buildAppPrompt',
  input: {schema: BuildAppInputSchema},
  output: {schema: BuildAppOutputSchema},
  prompt: `You are an expert Next.js and Tailwind CSS developer. Your task is to generate the code for a new application page based on a user's prompt.

  **Instructions:**
  1.  Generate a single, self-contained Next.js page component using React and TypeScript.
  2.  The component must be a default export.
  3.  The component must be a "use client" component.
  4.  Use Tailwind CSS for styling and layout. Make it look modern, clean, and professional.
  5.  Use components from the shadcn/ui library where appropriate (e.g., <Card>, <Button>, <Input>, <Label>).
  6.  Use lucide-react for icons.
  7.  Do NOT include any external imports other than 'react', 'lucide-react', and '@/components/ui/*'.
  8.  Do NOT add any comments to the generated code.
  9.  The generated code should be the complete content of a single .tsx file.
  10. If the prompt asks for functionality that requires backend logic or state management, implement it using React hooks ('useState', 'useEffect', etc.) directly within the component.

  **User Prompt:**
  "{{prompt}}"

  {{#if features}}
  **Include Features:**
  The user has requested to include ideas from the following existing features. You can use them as inspiration for the UI and functionality:
  {{#each features}}
  - {{{this}}}
  {{/each}}
  {{/if}}

  Generate the complete, runnable code for the page component now.
  `,
});

const buildAppFlow = ai.defineFlow(
  {
    name: 'buildAppFlow',
    inputSchema: BuildAppInputSchema,
    outputSchema: BuildAppOutputSchema,
  },
  async input => {
    const {output} = await buildAppPrompt(input);
    return output!;
  }
);


==================================================
File: src/ai/flows/convert-currency.ts
==================================================

'use server';

/**
 * @fileOverview A currency conversion AI agent.
 *
 * - convertCurrency - A function that handles the currency conversion process.
 * - ConvertCurrencyInput - The input type for the convertCurrency function.
 * - ConvertCurrencyOutput - The return type for the convertCurrency function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

// Note: These are placeholder rates and not live data.
const exchangeRates: Record<string, number> = {
  USD: 1.0,
  EUR: 0.93,
  JPY: 157.0,
  GBP: 0.79,
  AUD: 1.5,
  CAD: 1.37,
  CHF: 0.9,
  CNY: 7.25,
  HKD: 7.8,
  NZD: 1.63,
  INR: 83.5,
  BRL: 5.4,
  RUB: 88.0,
  ZAR: 18.0,
  MXN: 18.5,
  SGD: 1.35,
  AED: 3.67,
  ARS: 900.0,
  BDT: 117.0,
  BHD: 0.38,
  CLP: 940.0,
  CZK: 23.0,
  DKK: 6.9,
  EGP: 47.5,
  FJD: 2.25,
  HUF: 370.0,
  IDR: 16400.0,
  ILS: 3.75,
  ISK: 139.0,
  JOD: 0.71,
  KES: 128.0,
  KWD: 0.31,
  LKR: 305.0,
  MAD: 10.0,
  MYR: 4.7,
  NOK: 10.6,
  NPR: 133.0,
  OMR: 0.38,
  PHP: 58.5,
  PKR: 278.0,
  PLN: 4.0,
  QAR: 3.64,
  RON: 4.6,
  SAR: 3.75,
  SEK: 10.5,
  THB: 36.5,
  TRY: 32.8,
  TWD: 32.3,
  UAH: 40.5,
  VND: 25400.0,
};

const ConvertCurrencyInputSchema = z.object({
  amount: z.number().describe('The amount of money to convert.'),
  sourceCurrency: z.string().describe('The currency to convert from.'),
  targetCurrency: z.string().describe('The currency to convert to.'),
});
export type ConvertCurrencyInput = z.infer<typeof ConvertCurrencyInputSchema>;

const ConvertCurrencyOutputSchema = z.object({
  convertedAmount: z.number().describe('The converted amount.'),
});
export type ConvertCurrencyOutput = z.infer<typeof ConvertCurrencyOutputSchema>;

export async function convertCurrency(input: ConvertCurrencyInput): Promise<ConvertCurrencyOutput> {
  return convertCurrencyFlow(input);
}

const convertCurrencyFlow = ai.defineFlow(
  {
    name: 'convertCurrencyFlow',
    inputSchema: ConvertCurrencyInputSchema,
    outputSchema: ConvertCurrencyOutputSchema,
  },
  async ({ amount, sourceCurrency, targetCurrency }) => {
    const sourceRate = exchangeRates[sourceCurrency];
    const targetRate = exchangeRates[targetCurrency];

    if (!sourceRate || !targetRate) {
      throw new Error('Invalid currency provided.');
    }

    const amountInUSD = amount / sourceRate;
    const convertedAmount = amountInUSD * targetRate;
    
    return { convertedAmount: parseFloat(convertedAmount.toFixed(2)) };
  }
);


==================================================
File: src/ai/flows/edit-photo.ts
==================================================

'use server';

/**
 * @fileOverview AI-powered photo editing flow.
 *
 * - editPhoto - A function that accepts an image and a text prompt to edit the image.
 * - EditPhotoInput - The input type for the editPhoto function.
 * - EditPhotoOutput - The return type for the editPhoto function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

const EditPhotoInputSchema = z.object({
  photoDataUri: z
    .string()
    .describe(
      "A photo to edit, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'."
    ),
  prompt: z.string().describe('The text prompt describing the desired edits.'),
});
export type EditPhotoInput = z.infer<typeof EditPhotoInputSchema>;

const EditPhotoOutputSchema = z.object({
  editedPhotoDataUri: z
    .string()
    .describe(
      'The edited photo, as a data URI that must include a MIME type and use Base64 encoding. Expected format: \'data:<mimetype>;base64,<encoded_data>\'.'
    ),
});
export type EditPhotoOutput = z.infer<typeof EditPhotoOutputSchema>;

export async function editPhoto(input: EditPhotoInput): Promise<EditPhotoOutput> {
  return editPhotoFlow(input);
}

const editPhotoFlow = ai.defineFlow(
  {
    name: 'editPhotoFlow',
    inputSchema: EditPhotoInputSchema,
    outputSchema: EditPhotoOutputSchema,
  },
  async ({photoDataUri, prompt}) => {
    const {media} = await ai.generate({
      model: 'googleai/gemini-2.5-flash-image-preview',
      prompt: [
        {media: {url: photoDataUri}},
        {text: prompt},
      ],
      config: {
        responseModalities: ['TEXT', 'IMAGE'],
      },
    });

    if (!media?.url) {
      throw new Error('The model did not return an image.');
    }
    return {editedPhotoDataUri: media.url};
  }
);


==================================================
File: src/ai/flows/generate-chat-response.ts
==================================================

'use server';

/**
 * @fileOverview An AI agent for conversational chat.
 *
 * - generateChatResponse - A function that handles the chat response generation.
 * - GenerateChatResponseInput - The input type for the generateChatResponse function.
 * - GenerateChatResponseOutput - The return type for the generateChatResponse function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

const ChatMessageSchema = z.object({
  role: z.enum(['user', 'model']),
  content: z.string(),
});

const GenerateChatResponseInputSchema = z.object({
  history: z.array(ChatMessageSchema).describe("The conversation history."),
  prompt: z.string().describe('The latest user prompt.'),
});
export type GenerateChatResponseInput = z.infer<typeof GenerateChatResponseInputSchema>;

const GenerateChatResponseOutputSchema = z.object({
  response: z.string().describe('The AI\'s response.'),
});
export type GenerateChatResponseOutput = z.infer<typeof GenerateChatResponseOutputSchema>;

export async function generateChatResponse(input: GenerateChatResponseInput): Promise<GenerateChatResponseOutput> {
  return generateChatResponseFlow(input);
}

const generateChatResponseFlow = ai.defineFlow(
  {
    name: 'generateChatResponseFlow',
    inputSchema: GenerateChatResponseInputSchema,
    outputSchema: GenerateChatResponseOutputSchema,
  },
  async ({ history, prompt }) => {
    const { output } = await ai.generate({
      prompt: prompt,
      history: history.map(msg => ({ role: msg.role, content: [{ text: msg.content }] })),
      model: 'googleai/gemini-2.5-flash',
    });

    return { response: output!.text! };
  }
);


==================================================
File: src/ai/flows/generate-logo.ts
==================================================

'use server';

/**
 * @fileOverview AI-powered logo generation flow.
 *
 * - generateLogo - A function that accepts a text prompt to generate a logo.
 * - GenerateLogoInput - The input type for the generateLogo function.
 * - GenerateLogoOutput - The return type for the generateLogo function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

const GenerateLogoInputSchema = z.object({
  prompt: z.string().describe('The text prompt describing the desired logo.'),
});
export type GenerateLogoInput = z.infer<typeof GenerateLogoInputSchema>;

const GenerateLogoOutputSchema = z.object({
  logoDataUri: z
    .string()
    .describe(
      'The generated logo, as a data URI that must include a MIME type and use Base64 encoding. Expected format: \'data:<mimetype>;base64,<encoded_data>\'.'
    ),
});
export type GenerateLogoOutput = z.infer<typeof GenerateLogoOutputSchema>;

export async function generateLogo(input: GenerateLogoInput): Promise<GenerateLogoOutput> {
  return generateLogoFlow(input);
}

const generateLogoFlow = ai.defineFlow(
  {
    name: 'generateLogoFlow',
    inputSchema: GenerateLogoInputSchema,
    outputSchema: GenerateLogoOutputSchema,
  },
  async ({prompt}) => {
    
    const fullPrompt = `A modern, clean, vector-style logo for: "${prompt}". The logo should be on a plain white background, simple, and easily recognizable.`;

    const {media} = await ai.generate({
      model: 'googleai/imagen-4.0-fast-generate-001',
      prompt: fullPrompt,
    });

    if (!media?.url) {
      throw new Error('The model did not return an image.');
    }
    return {logoDataUri: media.url};
  }
);


==================================================
File: src/ai/flows/generate-text-formats.ts
==================================================

'use server';

/**
 * @fileOverview Text generation AI agent.
 *
 * - generateTextFormats - A function that handles the text generation process.
 * - GenerateTextFormatsInput - The input type for the generateTextFormats function.
 * - GenerateTextFormatsOutput - The return type for the generateTextFormats function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

const GenerateTextFormatsInputSchema = z.object({
  prompt: z.string().describe('The prompt to generate text from.'),
});
export type GenerateTextFormatsInput = z.infer<typeof GenerateTextFormatsInputSchema>;

const GenerateTextFormatsOutputSchema = z.object({
  text: z.string().describe('The generated text.'),
});
export type GenerateTextFormatsOutput = z.infer<typeof GenerateTextFormatsOutputSchema>;

export async function generateTextFormats(input: GenerateTextFormatsInput): Promise<GenerateTextFormatsOutput> {
  return generateTextFormatsFlow(input);
}

const generateTextFormatsPrompt = ai.definePrompt({
  name: 'generateTextFormatsPrompt',
  input: {schema: GenerateTextFormatsInputSchema},
  output: {schema: GenerateTextFormatsOutputSchema},
  prompt: `You are a creative writing assistant. Please generate text based on the following prompt: {{{prompt}}}`,
});

const generateTextFormatsFlow = ai.defineFlow(
  {
    name: 'generateTextFormatsFlow',
    inputSchema: GenerateTextFormatsInputSchema,
    outputSchema: GenerateTextFormatsOutputSchema,
  },
  async input => {
    const {output} = await generateTextFormatsPrompt(input);
    return output!;
  }
);


==================================================
File: src/ai/flows/get-chess-move.ts
==================================================

'use server';

/**
 * @fileOverview A chess AI agent that determines the best move.
 *
 * - getBestMove - A function that calculates the best move for a given chess position.
 * - GetBestMoveInput - The input type for the getBestMove function.
 * - GetBestMoveOutput - The return type for the getBestMove function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';
import {Chess, Move} from 'chess.js';

const GetBestMoveInputSchema = z.object({
    fen: z.string().describe("The Forsyth-Edwards Notation (FEN) of the current board state."),
    level: z.number().min(1).max(20).describe("The difficulty level for the AI, from 1 to 20.")
});
export type GetBestMoveInput = z.infer<typeof GetBestMoveInputSchema>;

const GetBestMoveOutputSchema = z.object({
  bestMove: z.string().nullable().describe('The best move in Standard Algebraic Notation (SAN), e.g., "e4", "Nf3".'),
});
export type GetBestMoveOutput = z.infer<typeof GetBestMoveOutputSchema>;


export async function getBestMove(input: GetBestMoveInput): Promise<GetBestMoveOutput> {
  return getBestMoveFlow(input);
}


// A simple minimax algorithm with alpha-beta pruning.
// NOTE: This is a placeholder for a more sophisticated engine like Stockfish.
// Genkit flows can't easily run WASM, so this is a server-side alternative.

function evaluateBoard(board: Chess) {
    let totalEvaluation = 0;
    board.board().forEach(row => {
        row.forEach(piece => {
            if (piece) {
                totalEvaluation += getPieceValue(piece.type) * (piece.color === 'w' ? 1 : -1);
            }
        });
    });
    return totalEvaluation;
}

function getPieceValue(piece: string) {
    switch (piece) {
        case 'p': return 10;
        case 'n': return 30;
        case 'b': return 30;
        case 'r': return 50;
        case 'q': return 90;
        case 'k': return 900;
        default: return 0;
    }
}


function minimax(game: Chess, depth: number, alpha: number, beta: number, isMaximizingPlayer: boolean): [number, Move | null] {
    if (depth === 0 || game.isGameOver()) {
        return [evaluateBoard(game), null];
    }

    const moves = game.moves({ verbose: true });
    let bestMove: Move | null = null;
    let bestValue = isMaximizingPlayer ? -Infinity : Infinity;

    // Sort moves to improve alpha-beta pruning (captures first)
    moves.sort((a, b) => (b.flags.includes('c') ? 1 : 0) - (a.flags.includes('c') ? 1 : 0));

    for (const move of moves) {
        game.move(move.san);
        const [value] = minimax(game, depth - 1, alpha, beta, !isMaximizingPlayer);
        game.undo();

        if (isMaximizingPlayer) {
            if (value > bestValue) {
                bestValue = value;
                bestMove = move;
            }
            alpha = Math.max(alpha, bestValue);
        } else {
            if (value < bestValue) {
                bestValue = value;
                bestMove = move;
            }
            beta = Math.min(beta, bestValue);
        }

        if (beta <= alpha) {
            break; // Prune
        }
    }

    return [bestValue, bestMove];
}


const getBestMoveFlow = ai.defineFlow(
  {
    name: 'getBestMoveFlow',
    inputSchema: GetBestMoveInputSchema,
    outputSchema: GetBestMoveOutputSchema,
  },
  async ({fen, level}) => {
    const game = new Chess(fen);
    const isMaximizing = game.turn() === 'w';

    // The level roughly translates to minimax depth.
    // This is a very simplified mapping.
    const depth = Math.floor(level / 5) + 1;

    if(game.moves().length === 0){
      return { bestMove: null };
    }
    
    // For very easy levels, pick a random move sometimes
    if (level <= 2 && Math.random() > level * 0.4) {
        const moves = game.moves();
        const randomMove = moves[Math.floor(Math.random() * moves.length)];
        return { bestMove: randomMove };
    }

    const [, bestMove] = minimax(game, depth, -Infinity, Infinity, isMaximizing);

    return { bestMove: bestMove ? bestMove.san : null };
  }
);


==================================================
File: src/ai/flows/remove-photo-background.ts
==================================================

'use server';

/**
 * @fileOverview AI-powered background removal flow for photos.
 *
 * - removePhotoBackground - A function that accepts an image and removes its background.
 * - RemovePhotoBackgroundInput - The input type for the removePhotoBackground function.
 * - RemovePhotoBackgroundOutput - The return type for the removePhotoBackground function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

const RemovePhotoBackgroundInputSchema = z.object({
  photoDataUri: z
    .string()
    .describe(
      'A photo to remove the background from, as a data URI that must include a MIME type and use Base64 encoding. Expected format: \'data:<mimetype>;base64,<encoded_data>\'.' /* example: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w+gYQQADhlV
      /YMgAAAABJRU5ErkJggg== */
    ),
});
export type RemovePhotoBackgroundInput = z.infer<typeof RemovePhotoBackgroundInputSchema>;

const RemovePhotoBackgroundOutputSchema = z.object({
  backgroundRemovedPhotoDataUri: z
    .string()
    .describe(
      'A photo with the background removed, as a data URI that must include a MIME type and use Base64 encoding. Expected format: \'data:<mimetype>;base64,<encoded_data>\'.' /* example: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w+gYQQADhlV
      /YMgAAAABJRU5ErkJggg== */
    ),
});
export type RemovePhotoBackgroundOutput = z.infer<typeof RemovePhotoBackgroundOutputSchema>;

export async function removePhotoBackground(
  input: RemovePhotoBackgroundInput
): Promise<RemovePhotoBackgroundOutput> {
  return removePhotoBackgroundFlow(input);
}

const removePhotoBackgroundPrompt = ai.definePrompt({
  name: 'removePhotoBackgroundPrompt',
  input: {schema: RemovePhotoBackgroundInputSchema},
  output: {schema: RemovePhotoBackgroundOutputSchema},
  prompt: [
    {
      media: {url: '{{photoDataUri}}'},
    },
    {
      text: 'Remove the background from this photo, and return the image as a data URI.',
    },
  ],
  model: 'googleai/gemini-2.5-flash-image-preview',
  config: {
    responseModalities: ['TEXT', 'IMAGE'],
  },
});

const removePhotoBackgroundFlow = ai.defineFlow(
  {
    name: 'removePhotoBackgroundFlow',
    inputSchema: RemovePhotoBackgroundInputSchema,
    outputSchema: RemovePhotoBackgroundOutputSchema,
  },
  async input => {
    const {media} = await removePhotoBackgroundPrompt(input);
    return {backgroundRemovedPhotoDataUri: media!.url!};
  }
);


==================================================
File: src/ai/flows/solve-math-problems.ts
==================================================

'use server';

/**
 * @fileOverview Math problem solver flow using Genkit.
 *
 * - solveMathProblem - A function that solves math problems step by step.
 * - SolveMathProblemInput - The input type for the solveMathProblem function.
 * - SolveMathProblemOutput - The return type for the solveMathProblem function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

const SolveMathProblemInputSchema = z.object({
  problem: z.string().describe('The math problem to solve.'),
});

export type SolveMathProblemInput = z.infer<typeof SolveMathProblemInputSchema>;

const SolveMathProblemOutputSchema = z.object({
  solution: z.string().describe('The step-by-step solution to the math problem.'),
});

export type SolveMathProblemOutput = z.infer<typeof SolveMathProblemOutputSchema>;

export async function solveMathProblem(input: SolveMathProblemInput): Promise<SolveMathProblemOutput> {
  return solveMathProblemFlow(input);
}

const solveMathProblemPrompt = ai.definePrompt({
  name: 'solveMathProblemPrompt',
  input: {schema: SolveMathProblemInputSchema},
  output: {schema: SolveMathProblemOutputSchema},
  prompt: `You are an expert math tutor who can solve math problems step by step.

  Solve the following math problem, showing each step:
  {{{problem}}}
  `,
});

const solveMathProblemFlow = ai.defineFlow(
  {
    name: 'solveMathProblemFlow',
    inputSchema: SolveMathProblemInputSchema,
    outputSchema: SolveMathProblemOutputSchema,
  },
  async input => {
    const {output} = await solveMathProblemPrompt(input);
    return output!;
  }
);


==================================================
File: src/ai/flows/translate-text.ts
==================================================

// A Genkit flow for translating text between different languages.

'use server';

/**
 * @fileOverview A text translation AI agent.
 *
 * - translateText - A function that handles the text translation process.
 * - TranslateTextInput - The input type for the translateText function.
 * - TranslateTextOutput - The return type for the translateText function.
 */

import {ai} from '@/ai/genkit';
import {z} from 'genkit';

const TranslateTextInputSchema = z.object({
  text: z.string().describe('The text to translate.'),
  sourceLanguage: z.string().describe('The language of the input text.'),
  targetLanguage: z.string().describe('The language to translate the text to.'),
});
export type TranslateTextInput = z.infer<typeof TranslateTextInputSchema>;

const TranslateTextOutputSchema = z.object({
  translatedText: z.string().describe('The translated text.'),
});
export type TranslateTextOutput = z.infer<typeof TranslateTextOutputSchema>;

export async function translateText(input: TranslateTextInput): Promise<TranslateTextOutput> {
  return translateTextFlow(input);
}

const translateTextPrompt = ai.definePrompt({
  name: 'translateTextPrompt',
  input: {schema: TranslateTextInputSchema},
  output: {schema: TranslateTextOutputSchema},
  prompt: `Translate the following text from {{sourceLanguage}} to {{targetLanguage}}:\n\n{{text}}`,
});

const translateTextFlow = ai.defineFlow(
  {
    name: 'translateTextFlow',
    inputSchema: TranslateTextInputSchema,
    outputSchema: TranslateTextOutputSchema,
  },
  async input => {
    const {output} = await translateTextPrompt(input);
    return output!;
  }
);


==================================================
File: src/ai/genkit.ts
==================================================

import {genkit} from 'genkit';
import {googleAI} from '@genkit-ai/googleai';

export const ai = genkit({
  plugins: [googleAI()],
  model: 'googleai/gemini-2.5-flash',
});


==================================================
File: src/app/advanced-calculator/advanced-calculator-ui.tsx
==================================================

"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader } from "@/components/ui/card";
import { Input } from "@/components/ui/input";

export function AdvancedCalculatorUI() {
  const [expression, setExpression] = useState("");
  const [display, setDisplay] = useState("0");

  const handleInput = (value: string) => {
    if (display === "Error") {
      setExpression(value);
      setDisplay(value);
      return;
    }
    if (display === "0" && value !== ".") {
      setExpression(value);
      setDisplay(value);
    } else {
      setExpression(prev => prev + value);
      setDisplay(prev => prev + value);
    }
  };

  const handleFunction = (func: string) => {
    if (display === "Error") {
        setExpression("");
        setDisplay("0");
        return;
    }
    setExpression(prev => `${func}(${prev})`);
    setDisplay(prev => `${func}(${prev})`);
  };
  
  const handleClear = () => {
    setExpression("");
    setDisplay("0");
  };

  const handleBackspace = () => {
    if (display === "Error") {
      handleClear();
      return;
    }
    if (expression.length > 1) {
      setExpression(prev => prev.slice(0, -1));
      setDisplay(prev => prev.slice(0, -1));
    } else {
      handleClear();
    }
  };

  const handleCalculate = () => {
    try {
      // A more robust solution would use a proper math expression parser
      // to avoid security risks with eval(). For this demo, we'll sanitize.
      const sanitizedExpression = expression
        .replace(/π/g, 'Math.PI')
        .replace(/e/g, 'Math.E')
        .replace(/sin/g, 'Math.sin')
        .replace(/cos/g, 'Math.cos')
        .replace(/tan/g, 'Math.tan')
        .replace(/log/g, 'Math.log10')
        .replace(/ln/g, 'Math.log')
        .replace(/√/g, 'Math.sqrt')
        .replace(/\^/g, '**');

      // Basic validation
      if (/[^0-9()+\-*/.eE\sMathPIsqrtcossintanlog10]/.test(sanitizedExpression)) {
         throw new Error("Invalid characters in expression");
      }
      
      const result = new Function('return ' + sanitizedExpression)();
      if(isNaN(result) || !isFinite(result)){
        throw new Error("Invalid calculation");
      }

      const resultString = String(result);
      setDisplay(resultString);
      setExpression(resultString);
    } catch (error) {
      setDisplay("Error");
      setExpression("");
    }
  };


  const buttons = [
    { label: "sin", type: "func" }, { label: "cos", type: "func" }, { label: "tan", type: "func" }, { label: "C", type: "clear" }, { label: "⌫", type: "backspace"},
    { label: "log", type: "func" }, { label: "ln", type: "func" }, { label: "(", type: "op" }, { label: ")", type: "op" }, { label: "√", type: "op" },
    { label: "7", type: "num" }, { label: "8", type: "num" }, { label: "9", type: "num" }, { label: "/", type: "op" }, { label: "^", type: "op" },
    { label: "4", type: "num" }, { label: "5", type: "num" }, { label: "6", type: "num" }, { label: "*", type: "op" }, { label: "π", type: "const" },
    { label: "1", type: "num" }, { label: "2", type: "num" }, { label: "3", type: "num" }, { label: "-", type: "op" }, { label: "e", type: "const" },
    { label: "0", type: "num" }, { label: ".", type: "num" }, { label: "=", type: "calc" }, { label: "+", type: "op" },
  ];

  const handleButtonClick = (label: string, type: string) => {
    switch (type) {
      case "num":
      case "op":
      case "const":
        handleInput(label);
        break;
      case "func":
        handleFunction(label);
        break;
      case "clear":
        handleClear();
        break;
      case "backspace":
        handleBackspace();
        break;
      case "calc":
        handleCalculate();
        break;
    }
  };

  return (
    <Card className="shadow-2xl">
      <CardHeader>
        <Input
          readOnly
          value={display}
          className="text-right text-4xl font-mono h-20 pr-4 bg-muted overflow-x-auto"
          aria-live="polite"
        />
      </CardHeader>
      <CardContent>
        <div className="grid grid-cols-5 gap-2">
          {buttons.map((btn) => (
            <Button
              key={btn.label}
              variant={
                btn.type === "num" || btn.type === "const" ? "outline" : 
                btn.type === 'calc' ? 'default' :
                btn.type === 'clear' || btn.type === 'backspace' ? 'secondary' : 'destructive'
              }
              size="lg"
              className={`text-lg ${btn.label === "0" ? "col-span-2" : ""}`}
              onClick={() => handleButtonClick(btn.label, btn.type)}
            >
              {btn.label}
            </Button>
          ))}
        </div>
      </CardContent>
    </Card>
  );
}


==================================================
File: src/app/advanced-calculator/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { AdvancedCalculatorUI } from "./advanced-calculator-ui";

export default function AdvancedCalculatorPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-lg">
        <PageHeader
          title="Advanced Calculator"
          description="Perform scientific and complex calculations."
        />
        <div className="mt-8">
          <AdvancedCalculatorUI />
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/advanced-photo-editor/actions.ts
==================================================

"use server";

import { editPhoto, type EditPhotoInput } from "@/ai/flows/edit-photo";
import { z } from "zod";

const FormSchema = z.object({
  photoDataUri: z.string().startsWith("data:image/"),
  prompt: z.string().min(3, "Prompt must be at least 3 characters long."),
});

type EditResult = {
  success: boolean;
  data?: string;
  error?: string;
};

export async function handlePhotoEdit(
  input: EditPhotoInput
): Promise<EditResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    return { success: false, error: "Invalid input provided." };
  }

  try {
    const { editedPhotoDataUri } = await editPhoto(parsed.data);
    return { success: true, data: editedPhotoDataUri };
  } catch (e) {
    console.error(e);
    const errorMessage =
      e instanceof Error ? e.message : "An unknown error occurred during the edit.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/advanced-photo-editor/advanced-photo-editor-ui.tsx
==================================================

"use client";

import { useState, useTransition } from "react";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useToast } from "@/hooks/use-toast";
import { handlePhotoEdit } from "./actions";
import { Download, Loader2, Upload, ArrowRight, Wand2 } from "lucide-react";
import { Skeleton } from "@/components/ui/skeleton";
import { Textarea } from "@/components/ui/textarea";

export function AdvancedPhotoEditorUI() {
  const [originalImage, setOriginalImage] = useState<string | null>(null);
  const [processedImage, setProcessedImage] = useState<string | null>(null);
  const [prompt, setPrompt] = useState("");
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();

  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      if (file.size > 4 * 1024 * 1024) {
        toast({
          variant: "destructive",
          title: "File too large",
          description: "Please upload an image smaller than 4MB.",
        });
        return;
      }
      const reader = new FileReader();
      reader.onload = (e) => {
        setOriginalImage(e.target?.result as string);
        setProcessedImage(null);
      };
      reader.readAsDataURL(file);
    }
  };

  const onEditPhoto = () => {
    if (!originalImage) {
      toast({
        variant: "destructive",
        title: "No Image",
        description: "Please upload an image first.",
      });
      return;
    }
    if (!prompt) {
      toast({
        variant: "destructive",
        title: "No Prompt",
        description: "Please enter a prompt to edit the image.",
      });
      return;
    }

    startTransition(async () => {
      const result = await handlePhotoEdit({ photoDataUri: originalImage, prompt });
      if (result.success && result.data) {
        setProcessedImage(result.data);
      } else {
        toast({
          variant: "destructive",
          title: "Editing Failed",
          description: result.error,
        });
      }
    });
  };

  const downloadImage = () => {
    if (!processedImage) return;
    const link = document.createElement("a");
    link.href = processedImage;
    link.download = "edited-photo.png";
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  };

  return (
    <div className="space-y-8">
      <Card>
        <CardContent className="p-6 grid md:grid-cols-2 gap-6 items-start">
          <div className="space-y-4">
            <div className="space-y-2">
              <Label htmlFor="image-upload">1. Upload Image</Label>
              <Input
                id="image-upload"
                type="file"
                accept="image/*"
                onChange={handleImageUpload}
                disabled={isPending}
              />
              <p className="text-xs text-muted-foreground">
                Max file size: 4MB. PNG, JPG, WEBP accepted.
              </p>
            </div>
            <div className="space-y-2">
              <Label htmlFor="prompt">2. Describe your edit</Label>
              <Textarea
                id="prompt"
                placeholder="e.g., 'make the sky a vibrant sunset' or 'turn this into a watercolor painting'"
                value={prompt}
                onChange={(e) => setPrompt(e.target.value)}
                disabled={isPending}
                className="min-h-[100px]"
              />
            </div>
          </div>
          <div className="flex items-end h-full">
            <Button
              onClick={onEditPhoto}
              disabled={isPending || !originalImage || !prompt}
              className="w-full"
            >
              {isPending ? (
                <>
                  <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                  Editing...
                </>
              ) : (
                <>
                  <Wand2 className="mr-2 h-4 w-4" />
                  Apply Edit
                </>
              )}
            </Button>
          </div>
        </CardContent>
      </Card>

      <div className="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
        <div className="space-y-2 text-center">
          <h3 className="font-semibold">Original</h3>
          <Card className="min-h-[300px] flex items-center justify-center">
            <CardContent className="p-2">
              {originalImage ? (
                <Image
                  src={originalImage}
                  alt="Original"
                  width={400}
                  height={400}
                  className="max-w-full h-auto object-contain rounded-md"
                />
              ) : (
                <div className="text-muted-foreground flex flex-col items-center">
                  <Upload className="h-12 w-12" />
                  <p>Upload an image to begin</p>
                </div>
              )}
            </CardContent>
          </Card>
        </div>

        <div className="space-y-2 text-center">
          <h3 className="font-semibold">Edited</h3>
          <Card className="min-h-[300px] flex items-center justify-center">
            <CardContent className="p-2 relative">
              {isPending && <Skeleton className="w-[400px] h-[400px] max-w-full" />}
              {!isPending && processedImage && (
                <>
                  <Image
                    src={processedImage}
                    alt="Edited"
                    width={400}
                    height={400}
                    className="max-w-full h-auto object-contain rounded-md"
                  />
                  <Button
                    size="icon"
                    className="absolute top-4 right-4"
                    onClick={downloadImage}
                  >
                    <Download className="h-4 w-4" />
                  </Button>
                </>
              )}
              {!isPending && !processedImage && (
                <div className="text-muted-foreground flex flex-col items-center">
                  <ArrowRight className="h-12 w-12" />
                  <p>Result will appear here</p>
                </div>
              )}
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/advanced-photo-editor/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { AdvancedPhotoEditorUI } from "./advanced-photo-editor-ui";
import { Suspense } from "react";

export default function AdvancedPhotoEditorPage() {
  return (
    <div>
      <PageHeader
        title="Advanced Photo Editor"
        description="Upload an image and use a text prompt to perform AI-powered edits."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
          <AdvancedPhotoEditorUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/ai-chat/actions.ts
==================================================

"use server";

import { generateChatResponse, type GenerateChatResponseInput } from "@/ai/flows/generate-chat-response";
import { z } from "zod";

const FormSchema = z.object({
  history: z.array(z.object({
    role: z.enum(['user', 'model']),
    content: z.string(),
  })),
  prompt: z.string().min(1, "Message cannot be empty."),
});

type ChatResult = {
  success: boolean;
  data?: string;
  error?: string;
};

export async function handleChat(
  input: GenerateChatResponseInput
): Promise<ChatResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    return { success: false, error: "Invalid input." };
  }

  try {
    const { response } = await generateChatResponse(parsed.data);
    return { success: true, data: response };
  } catch (e) {
    console.error(e);
    const errorMessage = e instanceof Error ? e.message : "An unknown error occurred.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/ai-chat/ai-chat-ui.tsx
==================================================

"use client";

import { useState, useTransition, useRef, useEffect } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { useToast } from "@/hooks/use-toast";
import { handleChat } from "./actions";
import { Loader2, Send, User, Bot } from "lucide-react";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import { cn } from "@/lib/utils";

type Message = {
  role: "user" | "model";
  content: string;
};

export function AIChatUI() {
  const [messages, setMessages] = useState<Message[]>([]);
  const [prompt, setPrompt] = useState("");
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();
  const scrollAreaRef = useRef<HTMLDivElement>(null);

  const onSendMessage = () => {
    if (!prompt) return;

    const newMessages: Message[] = [...messages, { role: "user", content: prompt }];
    setMessages(newMessages);
    setPrompt("");

    startTransition(async () => {
      const result = await handleChat({
        history: messages,
        prompt,
      });

      if (result.success && result.data) {
        setMessages([...newMessages, { role: "model", content: result.data }]);
      } else {
        toast({
          variant: "destructive",
          title: "Message Failed",
          description: result.error,
        });
         // Remove the user's message if the API call failed
        setMessages(messages);
      }
    });
  };
  
  useEffect(() => {
    if (scrollAreaRef.current) {
        const viewport = scrollAreaRef.current.querySelector('[data-radix-scroll-area-viewport]');
        if(viewport) {
            viewport.scrollTop = viewport.scrollHeight;
        }
    }
  }, [messages]);

  return (
    <Card className="flex-1 flex flex-col">
        <CardContent className="p-6 flex-1 flex flex-col gap-4">
            <ScrollArea className="flex-1 pr-4" ref={scrollAreaRef}>
                <div className="space-y-6">
                {messages.map((message, index) => (
                    <div
                    key={index}
                    className={cn(
                        "flex items-start gap-4",
                        message.role === "user" ? "justify-end" : "justify-start"
                    )}
                    >
                    {message.role === "model" && (
                        <Avatar>
                            <AvatarFallback><Bot /></AvatarFallback>
                        </Avatar>
                    )}
                    <div
                        className={cn(
                        "max-w-md rounded-lg p-3",
                        message.role === "user"
                            ? "bg-primary text-primary-foreground"
                            : "bg-muted"
                        )}
                    >
                        <p className="whitespace-pre-wrap">{message.content}</p>
                    </div>
                     {message.role === "user" && (
                        <Avatar>
                            <AvatarFallback><User /></AvatarFallback>
                        </Avatar>
                    )}
                    </div>
                ))}
                {isPending && (
                    <div className="flex items-start gap-4">
                        <Avatar>
                            <AvatarFallback><Bot /></AvatarFallback>
                        </Avatar>
                        <div className="max-w-md rounded-lg p-3 bg-muted flex items-center">
                            <Loader2 className="h-5 w-5 animate-spin" />
                        </div>
                    </div>
                )}
                </div>
            </ScrollArea>
            <div className="flex items-center gap-2">
            <Input
                value={prompt}
                onChange={(e) => setPrompt(e.target.value)}
                onKeyDown={(e) => e.key === 'Enter' && !e.shiftKey && onSendMessage()}
                placeholder="Type your message..."
                disabled={isPending}
            />
            <Button onClick={onSendMessage} disabled={isPending || !prompt}>
                {isPending ? (
                <Loader2 className="h-4 w-4 animate-spin" />
                ) : (
                <Send className="h-4 w-4" />
                )}
                <span className="sr-only">Send</span>
            </Button>
            </div>
        </CardContent>
    </Card>
  );
}


==================================================
File: src/app/ai-chat/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { AIChatUI } from "./ai-chat-ui";
import { Suspense } from "react";

export default function AIChatPage() {
  return (
    <div className="h-full flex flex-col">
      <PageHeader
        title="AI Chat"
        description="Have a conversation with an advanced AI. Ask it anything!"
      />
      <div className="mt-8 flex-1 flex flex-col">
        <Suspense fallback={<div>Loading...</div>}>
          <AIChatUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/app-builder/actions.ts
==================================================

"use server";

import { buildApp, type BuildAppInput, type BuildAppOutput } from "@/ai/flows/build-app";
import { z } from "zod";

const FormSchema = z.object({
  prompt: z.string().min(10, "Prompt must be at least 10 characters long."),
  features: z.array(z.string()).optional(),
});

type BuildResult = {
  success: boolean;
  data?: BuildAppOutput;
  error?: string;
};

export async function handleAppGeneration(
  input: BuildAppInput
): Promise<BuildResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    return { success: false, error: "Invalid input provided." };
  }

  try {
    const result = await buildApp(parsed.data);
    return { success: true, data: result };
  } catch (e) {
    console.error(e);
    const errorMessage =
      e instanceof Error ? e.message : "An unknown error occurred during app generation.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/app-builder/app-builder-ui.tsx
==================================================

"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Textarea } from "@/components/ui/textarea";
import { Label } from "@/components/ui/label";
import { Checkbox } from "@/components/ui/checkbox";
import { tools } from "@/lib/tools";
import { Wand2, Loader2 } from "lucide-react";
import { handleAppGeneration } from "./actions";
import { GeneratedAppUI } from "./generated-app-ui";
import { useToast } from "@/hooks/use-toast";

export function AppBuilderUI() {
  const [prompt, setPrompt] = useState(
    "A simple app to calculate tips and split bills between friends. It should have a clean interface and allow for custom tip percentages."
  );
  const [selectedFeatures, setSelectedFeatures] = useState<string[]>([]);
  const [isPending, setIsPending] = useState(false);
  const [generatedCode, setGeneratedCode] = useState<string | null>(null);
  const { toast } = useToast();

  const availableFeatures = tools.filter(
    (tool) => tool.href !== "/" && tool.href !== "/coming-soon" && tool.href !== "/app-builder"
  );

  const handleFeatureToggle = (featureName: string) => {
    setSelectedFeatures((prev) =>
      prev.includes(featureName)
        ? prev.filter((f) => f !== featureName)
        : [...prev, featureName]
    );
  };

  const handleGenerateApp = async () => {
    setIsPending(true);
    setGeneratedCode(null);

    try {
      const result = await handleAppGeneration({
        prompt,
        features: selectedFeatures,
      });

      if (result.success && result.data) {
        setGeneratedCode(result.data.code);
      } else {
        toast({
          variant: "destructive",
          title: "App Generation Failed",
          description: result.error,
        });
      }
    } catch (e) {
      console.error(e);
      toast({
        variant: "destructive",
        title: "An Unexpected Error Occurred",
        description: "Please check the console for more details.",
      });
    } finally {
      setIsPending(false);
    }
  };

  return (
    <div className="space-y-8">
      <Card>
        <CardHeader>
          <CardTitle>1. Describe Your App</CardTitle>
        </CardHeader>
        <CardContent>
          <Textarea
            placeholder="e.g., 'A simple app to calculate tips and split bills between friends. It should have a clean interface and allow for custom tip percentages.'"
            value={prompt}
            onChange={(e) => setPrompt(e.target.value)}
            className="min-h-[150px]"
            disabled={isPending}
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>2. Select Features to Include (Optional)</CardTitle>
        </CardHeader>
        <CardContent className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
          {availableFeatures.map((tool) => {
            const Icon = tool.icon;
            return (
              <Label
                key={tool.name}
                className={`relative flex flex-col items-center justify-center gap-2 rounded-lg border-2 p-4 transition-colors hover:bg-accent hover:text-accent-foreground ${
                  selectedFeatures.includes(tool.name)
                    ? "border-primary bg-accent text-accent-foreground"
                    : ""
                } ${isPending ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}
              >
                <Checkbox
                  className="absolute top-2 left-2"
                  checked={selectedFeatures.includes(tool.name)}
                  onCheckedChange={() => handleFeatureToggle(tool.name)}
                  disabled={isPending}
                />
                <Icon className="h-8 w-8" />
                <span className="text-center text-sm font-medium">
                  {tool.name}
                </span>
              </Label>
            );
          })}
        </CardContent>
      </Card>
      
      <div className="flex justify-end">
        <Button onClick={handleGenerateApp} disabled={isPending || !prompt}>
          {isPending ? (
            <>
              <Loader2 className="mr-2 h-4 w-4 animate-spin" />
              Generating App...
            </>
          ) : (
            <>
              <Wand2 className="mr-2 h-4 w-4" />
              Generate App
            </>
          )}
        </Button>
      </div>

      {(isPending || generatedCode) && (
        <Card>
            <CardHeader>
                <CardTitle>3. Generated App Code</CardTitle>
            </CardHeader>
            <CardContent>
                {isPending && !generatedCode && (
                    <div className="flex flex-col items-center justify-center gap-4 p-8">
                        <Loader2 className="h-12 w-12 animate-spin text-primary" />
                        <p className="text-muted-foreground">The AI is building your app, this may take a moment...</p>
                    </div>
                )}
                {generatedCode && (
                    <GeneratedAppUI generatedCode={generatedCode} />
                )}
            </CardContent>
        </Card>
      )}
    </div>
  );
}


==================================================
File: src/app/app-builder/generated-app-ui.tsx
==================================================

"use client";

import { Button } from "@/components/ui/button";
import { ScrollArea } from "@/components/ui/scroll-area";
import { useToast } from "@/hooks/use-toast";
import { Check, Clipboard } from "lucide-react";
import { useState } from "react";

export function GeneratedAppUI({ generatedCode }: { generatedCode: string }) {
  const { toast } = useToast();
  const [copied, setCopied] = useState(false);

  const copyToClipboard = () => {
    navigator.clipboard.writeText(generatedCode).then(() => {
      setCopied(true);
      toast({
        title: "Copied to Clipboard",
        description: "You can now paste the code into your new file.",
      });
      setTimeout(() => setCopied(false), 2000);
    });
  };

  return (
    <div className="relative">
      <Button
        size="icon"
        variant="ghost"
        className="absolute top-4 right-4 z-10"
        onClick={copyToClipboard}
      >
        {copied ? (
          <Check className="h-4 w-4 text-green-500" />
        ) : (
          <Clipboard className="h-4 w-4" />
        )}
        <span className="sr-only">Copy Code</span>
      </Button>
      <ScrollArea className="h-96 rounded-md border bg-muted">
        <pre className="p-4 text-sm">
          <code>{generatedCode}</code>
        </pre>
      </ScrollArea>
    </div>
  );
}


==================================================
File: src/app/app-builder/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { AppBuilderUI } from "./app-builder-ui";
import { Suspense } from "react";
import { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert";
import { Terminal } from "lucide-react";

export default function AppBuilderPage() {
  return (
    <div>
      <PageHeader
        title="AI App Builder"
        description="Describe the application you want to build and select the features you want to include."
      />
      <Alert className="mt-4">
        <Terminal className="h-4 w-4" />
        <AlertTitle>Developer Preview</AlertTitle>
        <AlertDescription>
          This tool generates the code for a new Next.js page component. You will need to manually create the file (e.g., `src/app/my-new-app/page.tsx`) and paste the generated code.
        </AlertDescription>
      </Alert>
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
          <AppBuilderUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/background-remover/actions.ts
==================================================

"use server";

import { removePhotoBackground } from "@/ai/flows/remove-photo-background";
import { z } from "zod";

const DataUriSchema = z.string().startsWith("data:image/");

type RemovalResult = {
  success: boolean;
  data?: string;
  error?: string;
};

export async function handleBackgroundRemoval(
  photoDataUri: string
): Promise<RemovalResult> {
  const parsed = DataUriSchema.safeParse(photoDataUri);

  if (!parsed.success) {
    return { success: false, error: "Invalid image format provided." };
  }

  try {
    const { backgroundRemovedPhotoDataUri } = await removePhotoBackground({
      photoDataUri,
    });
    return { success: true, data: backgroundRemovedPhotoDataUri };
  } catch (e) {
    console.error(e);
    const errorMessage =
      e instanceof Error ? e.message : "An unknown error occurred during background removal.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/background-remover/background-remover-ui.tsx
==================================================

"use client";

import { useState, useTransition } from "react";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useToast } from "@/hooks/use-toast";
import { handleBackgroundRemoval } from "./actions";
import { Download, Loader2, Upload, ArrowRight } from "lucide-react";
import { Skeleton } from "@/components/ui/skeleton";

export function BackgroundRemoverUI() {
  const [originalImage, setOriginalImage] = useState<string | null>(null);
  const [processedImage, setProcessedImage] = useState<string | null>(null);
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();

  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      if(file.size > 4 * 1024 * 1024) {
        toast({
          variant: 'destructive',
          title: 'File too large',
          description: 'Please upload an image smaller than 4MB.'
        });
        return;
      }
      const reader = new FileReader();
      reader.onload = (e) => {
        setOriginalImage(e.target?.result as string);
        setProcessedImage(null);
      };
      reader.readAsDataURL(file);
    }
  };

  const onRemoveBackground = () => {
    if (!originalImage) {
      toast({
        variant: "destructive",
        title: "No Image",
        description: "Please upload an image first.",
      });
      return;
    }

    startTransition(async () => {
      const result = await handleBackgroundRemoval(originalImage);
      if (result.success && result.data) {
        setProcessedImage(result.data);
      } else {
        toast({
          variant: "destructive",
          title: "Processing Failed",
          description: result.error,
        });
      }
    });
  };
  
  const downloadImage = () => {
    if (!processedImage) return;
    const link = document.createElement('a');
    link.href = processedImage;
    link.download = 'background-removed.png';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }

  return (
    <div className="space-y-8">
        <Card>
            <CardContent className="p-6 flex flex-col md:flex-row items-center gap-6">
                <div className="flex-1 space-y-2">
                    <Label htmlFor="image-upload">1. Upload your image</Label>
                    <Input id="image-upload" type="file" accept="image/*" onChange={handleImageUpload} disabled={isPending}/>
                    <p className="text-xs text-muted-foreground">Max file size: 4MB. PNG, JPG, WEBP accepted.</p>
                </div>
                <Button onClick={onRemoveBackground} disabled={isPending || !originalImage}>
                    {isPending ? (
                        <>
                            <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                            Processing...
                        </>
                    ) : (
                        "2. Remove Background"
                    )}
                </Button>
            </CardContent>
        </Card>
        
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
            <div className="space-y-2 text-center">
                <h3 className="font-semibold">Original</h3>
                <Card className="min-h-[300px] flex items-center justify-center">
                    <CardContent className="p-2">
                    {originalImage ? (
                        <Image src={originalImage} alt="Original" width={400} height={400} className="max-w-full h-auto object-contain rounded-md" />
                    ) : (
                        <div className="text-muted-foreground flex flex-col items-center">
                            <Upload className="h-12 w-12"/>
                            <p>Upload an image to begin</p>
                        </div>
                    )}
                    </CardContent>
                </Card>
            </div>

            <div className="space-y-2 text-center">
                <h3 className="font-semibold">Background Removed</h3>
                 <Card className="min-h-[300px] flex items-center justify-center">
                    <CardContent className="p-2 relative">
                    {isPending && <Skeleton className="w-[400px] h-[400px] max-w-full" />}
                    {!isPending && processedImage && (
                        <>
                            <Image src={processedImage} alt="Background removed" width={400} height={400} className="max-w-full h-auto object-contain rounded-md" />
                            <Button size="icon" className="absolute top-4 right-4" onClick={downloadImage}>
                                <Download className="h-4 w-4" />
                            </Button>
                        </>
                    )}
                    {!isPending && !processedImage && (
                         <div className="text-muted-foreground flex flex-col items-center">
                            <ArrowRight className="h-12 w-12"/>
                            <p>Result will appear here</p>
                        </div>
                    )}
                    </CardContent>
                </Card>
            </div>
        </div>
    </div>
  );
}


==================================================
File: src/app/background-remover/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { BackgroundRemoverUI } from "./background-remover-ui";
import { Suspense } from "react";

export default function BackgroundRemoverPage() {
  return (
    <div>
      <PageHeader
        title="Photo Background Remover"
        description="Upload an image and let AI automatically remove the background for you."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
            <BackgroundRemoverUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/calculator/calculator-ui.tsx
==================================================

"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader } from "@/components/ui/card";
import { Input } from "@/components/ui/input";

export function CalculatorUI() {
  const [display, setDisplay] = useState("0");
  const [currentValue, setCurrentValue] = useState("");
  const [previousValue, setPreviousValue] = useState("");
  const [operator, setOperator] = useState("");

  const handleNumberClick = (num: string) => {
    if (display === "0" && num === "0") return;
    if (display.includes(".") && num === ".") return;
    
    if (operator && currentValue === "") {
        setDisplay(num);
    } else {
        setDisplay(prev => (prev === "0" && num !== ".") ? num : prev + num);
    }
    setCurrentValue(prev => prev + num);
  };

  const handleOperatorClick = (op: string) => {
    if (currentValue === "" && previousValue === "") return;

    if (previousValue && operator && currentValue) {
      calculate();
      setPreviousValue(display);
    } else {
      setPreviousValue(currentValue || previousValue);
    }
    
    setCurrentValue("");
    setOperator(op);
  };
  
  const calculate = () => {
    if (!previousValue || !operator || currentValue === "") return;
    let result = 0;
    const prev = parseFloat(previousValue);
    const current = parseFloat(currentValue);

    switch (operator) {
      case "+":
        result = prev + current;
        break;
      case "-":
        result = prev - current;
        break;
      case "*":
        result = prev * current;
        break;
      case "/":
        if (current === 0) {
          setDisplay("Error");
          return;
        }
        result = prev / current;
        break;
    }
    const resultString = result.toString();
    setDisplay(resultString);
    setPreviousValue(resultString);
    setCurrentValue("");
    setOperator("");
  };

  const handleClear = () => {
    setDisplay("0");
    setCurrentValue("");
    setPreviousValue("");
    setOperator("");
  };

  const handleEqualsClick = () => {
    calculate();
  };
  
  const handleDecimalClick = () => {
    if (!currentValue.includes(".")) {
      setCurrentValue(currentValue + ".");
      setDisplay(display + ".");
    }
  };

  const buttons = [
    "C", "+/-", "%", "/",
    "7", "8", "9", "*",
    "4", "5", "6", "-",
    "1", "2", "3", "+",
    "0", ".", "=",
  ];

  const handleButtonClick = (btn: string) => {
    switch(btn) {
      case "C": handleClear(); break;
      case "=": handleEqualsClick(); break;
      case ".": handleDecimalClick(); break;
      case "+":
      case "-":
      case "*":
      case "/":
        handleOperatorClick(btn);
        break;
      case "+/-":
      case "%":
        // Not implemented for basic calculator
        break;
      default: handleNumberClick(btn); break;
    }
  }

  return (
    <Card className="shadow-2xl">
      <CardHeader>
        <Input
          readOnly
          value={display}
          className="text-right text-4xl font-mono h-20 pr-4 bg-muted"
          aria-live="polite"
        />
      </CardHeader>
      <CardContent>
        <div className="grid grid-cols-4 gap-2">
            <Button variant="secondary" size="lg" className="text-xl" onClick={handleClear}>C</Button>
            <Button variant="secondary" size="lg" className="text-xl" disabled>+/-</Button>
            <Button variant="secondary" size="lg" className="text-xl" disabled>%</Button>
            <Button variant="destructive" size="lg" className="text-xl" onClick={() => handleOperatorClick("/")}>÷</Button>
            
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("7")}>7</Button>
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("8")}>8</Button>
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("9")}>9</Button>
            <Button variant="destructive" size="lg" className="text-xl" onClick={() => handleOperatorClick("*")}>×</Button>
            
            <Button variant="outline" size="lg"className="text-xl" onClick={() => handleNumberClick("4")}>4</Button>
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("5")}>5</Button>
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("6")}>6</Button>
            <Button variant="destructive" size="lg" className="text-xl" onClick={() => handleOperatorClick("-")}>-</Button>
            
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("1")}>1</Button>
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("2")}>2</Button>
            <Button variant="outline" size="lg" className="text-xl" onClick={() => handleNumberClick("3")}>3</Button>
            <Button variant="destructive" size="lg" className="text-xl" onClick={() => handleOperatorClick("+")}>+</Button>
            
            <Button variant="outline" size="lg" className="col-span-2 text-xl" onClick={() => handleNumberClick("0")}>0</Button>
            <Button variant="outline" size="lg" className="text-xl" onClick={handleDecimalClick}>.</Button>
            <Button variant="default" size="lg" className="bg-primary text-primary-foreground hover:bg-primary/90 text-xl" onClick={handleEqualsClick}>=</Button>
        </div>
      </CardContent>
    </Card>
  );
}


==================================================
File: src/app/calculator/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { CalculatorUI } from "./calculator-ui";

export default function CalculatorPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-md">
        <PageHeader
          title="Basic Calculator"
          description="Perform simple arithmetic operations."
        />
        <div className="mt-8">
          <CalculatorUI />
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/coming-soon/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { Construction } from "lucide-react";

export default function ComingSoonPage() {
  return (
    <div className="flex flex-col h-[60vh] items-center justify-center text-center">
      <Construction className="h-24 w-24 text-primary mb-4" />
      <PageHeader
        title="Feature Under Construction"
        description="We're working hard to bring this tool to you. Please check back later!"
      />
    </div>
  );
}


==================================================
File: src/app/facebook-downloader/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { DownloaderUI } from "../youtube-downloader/downloader-ui"; // Re-using the same UI component
import { Suspense } from "react";

export default function FacebookDownloaderPage() {
  return (
    <div>
      <PageHeader
        title="Facebook Video Downloader"
        description="Paste a Facebook video URL to start."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
            <DownloaderUI service="facebook" />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/car-racing/car-racing-ui.tsx
==================================================

"use client";

import React, { useRef, useEffect, useCallback } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';

// --- Game Settings ---
const CAR_COLOR = '#E53E3E'; // Red car
const RUMBLE_COLOR_LIGHT = '#DDDDDD';
const RUMBLE_COLOR_DARK = '#D21818';
const ROAD_COLOR_LIGHT = '#B0B0B0';
const ROAD_COLOR_DARK = '#A0A0A0';
const GRASS_COLOR_LIGHT = '#4CAF50';
const GRASS_COLOR_DARK = '#459C48';
const SKY_COLOR = '#42A5F5';
const TREE_TRUNK_COLOR = '#8D6E63';
const TREE_LEAVES_COLOR = '#66BB6A';

export function CarRacingUI() {
  const canvasRef = useRef<HTMLCanvasElement>(null);
  const animationFrameId = useRef<number>();
  const cleanupRef = useRef<() => void>(() => {});

  const gameLoop = useCallback((ctx: CanvasRenderingContext2D, canvas: HTMLCanvasElement) => {
    // --- Game State ---
    const state = {
      player: {
        x: 0,
        y: 0,
        z: 0,
        speed: 0,
        maxSpeed: 1200,
        acceleration: 200,
        braking: -600,
        deceleration: -100,
        turnSpeed: 3,
        centrifugal: 0.3,
        offRoadDecel: -400,
        offRoadLimit: 200,
      },
      camera: {
        height: 1000,
        fieldOfView: 100,
        depth: 0, // distance from camera to screen
      },
      road: {
        length: 500,
        rumbleLength: 3,
        segmentLength: 200,
        lanes: 3,
        width: 2000,
        segments: [] as any[]
      },
      keys: {
        ArrowUp: false,
        ArrowDown: false,
        ArrowLeft: false,
        ArrowRight: false,
      },
      lapTime: 0,
      totalTime: 0,
    };
    
    let lastTime = performance.now();

    // --- Helper Functions ---
    const project = (p: {world: {x: number, y: number, z: number}, camera: {x:number, y:number, z:number}, screen: {x:number, y:number, w: number}}, cameraX: number, cameraY: number, cameraZ: number) => {
      p.camera.x = (p.world.x || 0) - cameraX;
      p.camera.y = (p.world.y || 0) - cameraY;
      p.camera.z = (p.world.z || 0) - cameraZ;
      const scale = state.camera.depth / p.camera.z;
      p.screen.x = Math.round((canvas.width / 2) + (scale * p.camera.x * (canvas.width / 2)));
      p.screen.y = Math.round((canvas.height / 2) - (scale * p.camera.y * (canvas.height / 2)));
      p.screen.w = Math.round((scale * state.road.width * (canvas.width / 2)));
    };

    const drawSegment = (p1: any, p2: any) => {
        const lanes = state.road.lanes;
        const r1 = getRumbleWidth(p1.screen.w, lanes);
        const r2 = getRumbleWidth(p2.screen.w, lanes);
        const l1 = getLaneMarkerWidth(p1.screen.w, lanes);
        const l2 = getLaneMarkerWidth(p2.screen.w, lanes);

        // Grass
        ctx.fillStyle = p1.color.grass;
        ctx.fillRect(0, p2.screen.y, canvas.width, p1.screen.y - p2.screen.y);

        // Rumble strips
        drawPolygon(p1.screen.x - p1.screen.w - r1, p1.screen.y, p1.screen.x - p1.screen.w, p1.screen.y, p2.screen.x - p2.screen.w, p2.screen.y, p2.screen.x - p2.screen.w - r2, p2.screen.y, p1.color.rumble);
        drawPolygon(p1.screen.x + p1.screen.w + r1, p1.screen.y, p1.screen.x + p1.screen.w, p1.screen.y, p2.screen.x + p2.screen.w, p2.screen.y, p2.screen.x + p2.screen.w + r2, p2.screen.y, p1.color.rumble);
        
        // Road
        drawPolygon(p1.screen.x - p1.screen.w, p1.screen.y, p1.screen.x + p1.screen.w, p1.screen.y, p2.screen.x + p2.screen.w, p2.screen.y, p2.screen.x - p2.screen.w, p2.screen.y, p1.color.road);

        // Lane markers
        if (p1.color.lane) {
            const lanew1 = p1.screen.w * 2 / lanes;
            const lanew2 = p2.screen.w * 2 / lanes;
            let lanex1 = p1.screen.x - p1.screen.w + lanew1;
            let lanex2 = p2.screen.x - p2.screen.w + lanew2;
            for (let lane = 1; lane < lanes; lanex1 += lanew1, lanex2 += lanew2, lane++) {
                drawPolygon(lanex1 - l1 / 2, p1.screen.y, lanex1 + l1 / 2, p1.screen.y, lanex2 + l2 / 2, p2.screen.y, lanex2 - l2 / 2, p2.screen.y, p1.color.lane);
            }
        }
    };
    
    const drawPolygon = (x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, x4: number, y4: number, color: string) => {
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);
        ctx.lineTo(x3, y3);
        ctx.lineTo(x4, y4);
        ctx.closePath();
        ctx.fill();
    };

    const getRumbleWidth = (projectedRoadWidth: number, lanes: number) => projectedRoadWidth / Math.max(6, 2 * lanes);
    const getLaneMarkerWidth = (projectedRoadWidth: number, lanes: number) => projectedRoadWidth / Math.max(32, 8 * lanes);
    
    const update = (dt: number) => {
      const { player, road } = state;
      const speedPercent = player.speed / player.maxSpeed;
      const dx = dt * state.player.turnSpeed * speedPercent;

      player.z = (player.z + dt * player.speed) % (road.length * road.segmentLength);

      // Acceleration / Braking
      if (state.keys.ArrowUp) player.speed += state.player.acceleration * dt;
      else if (state.keys.ArrowDown) player.speed += state.player.braking * dt;
      else player.speed += state.player.deceleration * dt;
      
      // Turning
      if (state.keys.ArrowLeft) player.x -= dx;
      if (state.keys.ArrowRight) player.x += dx;
      
      // Centrifugal force
      const playerSegment = road.segments[Math.floor((player.z / road.segmentLength)) % road.length];
      player.x -= (dx * speedPercent * playerSegment.curve * state.player.centrifugal);
      
      // Clamp speed
      player.speed = Math.max(0, Math.min(player.speed, player.maxSpeed));
      
      // Off-road
      if ((Math.abs(player.x) > road.width) && (player.speed > player.offRoadLimit)) {
          player.speed += player.offRoadDecel * dt;
      }
      
      // Update camera depth
      state.camera.depth = 1 / Math.tan((state.camera.fieldOfView / 2) * Math.PI / 180);
      state.totalTime += dt;
    };
    
    const render = () => {
      const { player, camera, road } = state;
      const playerSegment = road.segments[Math.floor(player.z / road.segmentLength) % road.length];
      const playerPercent = (player.z % road.segmentLength) / road.segmentLength;
      const playerY = playerSegment.p1.world.y + (playerSegment.p2.world.y - playerSegment.p1.world.y) * playerPercent;
      let cameraX = player.x * road.width;
      const cameraY = camera.height + playerY;
      let cameraZ = player.z;

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = SKY_COLOR;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      let maxy = canvas.height;

      for (let n = 0; n < 300; n++) {
        const i = (Math.floor(player.z / road.segmentLength) + n) % road.length;
        const segment = road.segments[i];
        
        const looped = i < Math.floor(player.z / road.segmentLength);
        const cameraZOffset = looped ? road.length * road.segmentLength : 0;
        
        const camZ = cameraZ - (looped ? road.length * road.segmentLength : 0);

        project(segment.p1, cameraX - playerSegment.curve * playerPercent * road.segmentLength * state.player.centrifugal * road.width, cameraY, camZ);
        project(segment.p2, cameraX - playerSegment.curve * playerPercent * road.segmentLength * state.player.centrifugal * road.width, cameraY, camZ);

        segment.clipped = segment.p1.camera.z <= camera.depth || segment.p2.screen.y >= segment.p1.screen.y || segment.p2.screen.y >= maxy;
        
        if (!segment.clipped) {
           drawSegment(segment.p1, segment.p2);
           maxy = segment.p1.screen.y;
        }
      }
      
      // Draw car
      ctx.fillStyle = CAR_COLOR;
      ctx.fillRect(canvas.width / 2 - 15, canvas.height - 60, 30, 40); // Simple car rectangle

      // Draw HUD
      ctx.fillStyle = 'white';
      ctx.font = '24px Arial';
      ctx.fillText(`Speed: ${Math.round(player.speed/10)} km/h`, 10, 30);
      ctx.fillText(`Lap: ${(state.totalTime / 60).toFixed(2)}`, 10, 60);
    };

    const buildRoad = () => {
        const { road } = state;
        const addSegment = (curve: number) => {
            const n = road.segments.length;
            const segmentLength = road.segmentLength;
            road.segments.push({
                index: n,
                p1: { world: { y: (n > 0 ? road.segments[n-1].p2.world.y : 0), z: n * segmentLength }, camera: {}, screen: {}, color: {} },
                p2: { world: { y: (n > 0 ? road.segments[n-1].p2.world.y : 0), z: (n + 1) * segmentLength }, camera: {}, screen: {}, color: {} },
                curve: curve,
            });
        };
        
        const addRoad = (enter: number, hold: number, leave: number, curve: number) => {
            for(let i = 0; i < enter; i++) addSegment(curve * (i / enter));
            for(let i = 0; i < hold; i++) addSegment(curve);
            for(let i = 0; i < leave; i++) addSegment(curve * (1 - i / leave));
        }

        addRoad(100, 100, 100, 2);
        addRoad(50, 100, 50, -3);
        addRoad(100, 150, 100, 1);
        
        state.road.length = state.road.segments.length;
        
        for (const segment of state.road.segments) {
            const isDark = Math.floor(segment.index / road.rumbleLength) % 2;
            segment.p1.color = isDark ? { road: ROAD_COLOR_DARK, grass: GRASS_COLOR_DARK, rumble: RUMBLE_COLOR_DARK, lane: '#FFFFFF' } : { road: ROAD_COLOR_LIGHT, grass: GRASS_COLOR_LIGHT, rumble: RUMBLE_COLOR_LIGHT, lane: '' };
            segment.p2.color = segment.p1.color;
        }
    };
    
    buildRoad();

    const frame = (time: number) => {
      const dt = (time - lastTime) / 1000;
      lastTime = time;
      update(dt);
      render();
      animationFrameId.current = requestAnimationFrame(frame);
    };

    const handleKeyDown = (e: KeyboardEvent) => {
        if (state.keys.hasOwnProperty(e.key)) {
            e.preventDefault();
            state.keys[e.key as keyof typeof state.keys] = true;
        }
    };
    const handleKeyUp = (e: KeyboardEvent) => {
        if (state.keys.hasOwnProperty(e.key)) {
            e.preventDefault();
            state.keys[e.key as keyof typeof state.keys] = false;
        }
    };
    
    window.addEventListener('keydown', handleKeyDown);
    window.addEventListener('keyup', handleKeyUp);
    
    animationFrameId.current = requestAnimationFrame(frame);
    
    return () => {
        window.removeEventListener('keydown', handleKeyDown);
        window.removeEventListener('keyup', handleKeyUp);
        if (animationFrameId.current) {
          cancelAnimationFrame(animationFrameId.current);
        }
    };

  }, []);
  
  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    if (!ctx) return;
    
    cleanupRef.current = gameLoop(ctx, canvas);
    
    return () => {
      cleanupRef.current();
    }
  }, [gameLoop]);

  const restartGame = useCallback(() => {
      cleanupRef.current();
      const canvas = canvasRef.current;
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      if (!ctx) return;
      cleanupRef.current = gameLoop(ctx, canvas);
  }, [gameLoop])

  return (
    <Card className="shadow-2xl overflow-hidden">
      <CardContent className="p-2 md:p-4">
        <canvas
          ref={canvasRef}
          width={800}
          height={600}
          className="w-full h-auto bg-stone-800 rounded-lg"
        ></canvas>
        <div className="mt-4 text-center">
            <Button onClick={restartGame}>Restart Game</Button>
        </div>
      </CardContent>
    </Card>
  );
}


==================================================
File: src/app/games/car-racing/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { CarRacingUI } from "./car-racing-ui";
import { Suspense } from "react";

export default function CarRacingPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-4xl text-center">
        <PageHeader
          title="3D Car Racing"
          description="Use the arrow keys to control your car. Stay on the track!"
        />
        <div className="mt-8">
          <Suspense fallback={<div>Loading Game...</div>}>
            <CarRacingUI />
          </Suspense>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/chess/chess-ui.tsx
==================================================

"use client";

import { useState, useEffect, useMemo, useCallback } from 'react';
import { Chess, Square, Piece, Move } from 'chess.js';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogFooter,
  DialogDescription,
} from "@/components/ui/dialog";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Label } from "@/components/ui/label";
import { cn } from '@/lib/utils';
import { RotateCcw, Crown, Undo, Home, BrainCircuit, Users, Bot, Loader2 } from 'lucide-react';
import Link from 'next/link';
import { getBestMove } from '@/ai/flows/get-chess-move';
import { useToast } from '@/hooks/use-toast';


type PieceComponentType = 'p' | 'n' | 'b' | 'r' | 'q' | 'k';
type PieceColor = 'w' | 'b';

// SVG components for chess pieces
const pieceSVGs: Record<PieceColor, Record<PieceComponentType, string>> = {
  w: {
    p: "https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg",
    n: "https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg",
    b: "https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg",
    r: "https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg",
    q: "https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg",
    k: "https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg",
  },
  b: {
    p: "https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg",
    n: "https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg",
    b: "https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg",
    r: "https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg",
    q: "https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg",
    k: "https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg",
  },
};

const PieceComponent = ({ piece }: { piece: Piece }) => {
  const src = pieceSVGs[piece.color][piece.type];
  return <img src={src} alt={`${piece.color} ${piece.type}`} className="w-full h-full" />;
};

const SquareComponent = ({
  piece,
  isLight,
  square,
  onClick,
  isSelected,
  isPossibleMove,
}: {
  piece: Piece | null;
  isLight: boolean;
  square: Square;
  onClick: () => void;
  isSelected: boolean;
  isPossibleMove: boolean;
}) => {
  const bgClass = isLight ? 'bg-stone-200' : 'bg-stone-500';
  
  return (
    <div
      onClick={onClick}
      className={cn(
        "w-full h-full flex items-center justify-center relative aspect-square",
        bgClass,
        isSelected && 'bg-yellow-400',
        "cursor-pointer"
      )}
    >
      {piece && <PieceComponent piece={piece} />}
      {isPossibleMove && (
        <div className="absolute inset-0 flex items-center justify-center">
            <div className={cn("rounded-full", piece ? "h-full w-full ring-4 ring-green-500/50" : "h-1/3 w-1/3 bg-green-500/50")}/>
        </div>
      )}
    </div>
  );
};

type GameMode = 'playerVsPlayer' | 'playerVsAi' | 'aiVsAi';

export function ChessUI() {
  const game = useMemo(() => new Chess(), []);
  const [board, setBoard] = useState(game.board());
  const [selectedSquare, setSelectedSquare] = useState<Square | null>(null);
  const [possibleMoves, setPossibleMoves] = useState<Move[]>([]);
  const [status, setStatus] = useState("White to move");
  const [gameMode, setGameMode] = useState<GameMode>('playerVsAi');
  const [aiLevel, setAiLevel] = useState(2);
  const [isThinking, setIsThinking] = useState(false);
  const [endGameMessage, setEndGameMessage] = useState<string | null>(null);
  const { toast } = useToast();

  const updateGame = useCallback((move: Move | null = null) => {
    if (move) {
      try {
        game.move(move);
      } catch (e) {
        console.error("Invalid move:", move, e);
        return false;
      }
    }
    setBoard(game.board());
    
    let newStatus = '';
    const turn = game.turn() === 'w' ? 'White' : 'Black';

    if (game.isCheckmate()) {
        newStatus = `Checkmate! ${turn === 'White' ? 'Black' : 'White'} wins.`;
        setEndGameMessage(newStatus);
    } else if (game.isDraw()) {
        newStatus = "Draw!";
        setEndGameMessage(newStatus);
    } else {
        newStatus = `${turn} to move`;
        if (game.isCheck()) {
            newStatus += " - Check!";
        }
    }
    setStatus(newStatus);
    return !game.isGameOver();
  }, [game]);

  const makeAiMove = useCallback(async () => {
    if (game.isGameOver()) return;
    setIsThinking(true);
    try {
        const { bestMove } = await getBestMove({ fen: game.fen(), level: aiLevel });
        if(bestMove){
            const move = game.move(bestMove);
            updateGame();
        }
    } catch(e) {
        console.error(e);
        toast({
            title: "AI Error",
            description: "The AI failed to make a move. Please try again.",
            variant: "destructive"
        })
    } finally {
        setIsThinking(false);
    }
  }, [game, aiLevel, updateGame, toast]);

  useEffect(() => {
    if (game.isGameOver()) return;
    
    const isAiTurn = (gameMode === 'playerVsAi' && game.turn() === 'b') || 
                     (gameMode === 'aiVsAi');

    if (isAiTurn && !isThinking) {
      // Use a timeout to allow the UI to update before the AI starts thinking.
      setTimeout(() => makeAiMove(), 500);
    }
  }, [board, gameMode, isThinking, makeAiMove, game]);

  const handleSquareClick = (square: Square) => {
    if (game.isGameOver() || isThinking) return;

    if (gameMode === 'playerVsAi' && game.turn() === 'b') return;

    if (selectedSquare) {
      const move = possibleMoves.find(m => m.from === selectedSquare && m.to === square);

      if (move) {
        updateGame(move);
        setSelectedSquare(null);
        setPossibleMoves([]);
      } else {
        const piece = game.get(square);
        if (piece && piece.color === game.turn()) {
            setSelectedSquare(square);
            setPossibleMoves(game.moves({ square, verbose: true }));
        } else {
            setSelectedSquare(null);
            setPossibleMoves([]);
        }
      }
    } else {
      const piece = game.get(square);
      if (piece && piece.color === game.turn()) {
        setSelectedSquare(square);
        setPossibleMoves(game.moves({ square, verbose: true }));
      }
    }
  };

  const resetGame = () => {
    game.reset();
    updateGame();
    setSelectedSquare(null);
    setPossibleMoves([]);
    setEndGameMessage(null);
    setIsThinking(false);
  };
  
  const undoMove = () => {
    if (gameMode === 'playerVsPlayer') {
        game.undo();
    } else {
        // Undo player and AI move
        game.undo();
        game.undo();
    }
    updateGame();
  }

  return (
    <Card className="shadow-2xl">
      <CardHeader>
        <div className="flex justify-between items-center">
            <CardTitle>Chess</CardTitle>
            <div className="text-sm text-muted-foreground font-mono">05:00</div>
        </div>
      </CardHeader>
      <CardContent className="p-2 md:p-6 space-y-4">
        <div className="grid grid-cols-8 grid-rows-8 w-full max-w-lg mx-auto border-4 border-stone-700">
          {board.map((row, rowIndex) =>
            row.map((piece, colIndex) => {
              const isLight = (rowIndex + colIndex) % 2 !== 0;
              const square = `${String.fromCharCode(97 + colIndex)}${8 - rowIndex}` as Square;
              return (
                <SquareComponent
                  key={square}
                  square={square}
                  piece={piece}
                  isLight={isLight}
                  onClick={() => handleSquareClick(square)}
                  isSelected={square === selectedSquare}
                  isPossibleMove={possibleMoves.some(m => m.to === square)}
                />
              );
            })
          )}
        </div>
        <div className="text-xl font-semibold text-center mt-4 min-h-[32px]">
            {game.isCheckmate() && <Crown className="inline-block mr-2 h-8 w-8 text-yellow-500" />}
            {isThinking ? <><Loader2 className="inline-block mr-2 h-6 w-6 animate-spin" /> AI is thinking...</> : status}
        </div>
        <div className="flex flex-wrap gap-2 justify-center">
            <Button onClick={resetGame}><RotateCcw className="mr-2 h-4 w-4" />New Game</Button>
            <Button onClick={undoMove} disabled={game.history().length < (gameMode === 'playerVsPlayer' ? 1 : 2)}><Undo className="mr-2 h-4 w-4" />Undo</Button>
            <Button asChild variant="secondary"><Link href="/games"><Home className="mr-2 h-4 w-4" />Home</Link></Button>
            <Button onClick={() => {}} disabled={!isThinking} variant="destructive">Stop Thinking</Button>
        </div>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t">
            <div className='space-y-2'>
                <Label htmlFor="game-mode">Game Mode</Label>
                 <Select value={gameMode} onValueChange={(value) => { setGameMode(value as GameMode); resetGame(); }}>
                    <SelectTrigger id="game-mode">
                        <SelectValue placeholder="Select mode" />
                    </SelectTrigger>
                    <SelectContent>
                        <SelectItem value="playerVsPlayer"><Users className="inline-block mr-2" />Player vs Player</SelectItem>
                        <SelectItem value="playerVsAi"><BrainCircuit className="inline-block mr-2" />Player vs AI</SelectItem>
                        <SelectItem value="aiVsAi"><Bot className="inline-block mr-2" />AI vs AI</SelectItem>
                    </SelectContent>
                </Select>
            </div>
            <div className='space-y-2'>
                <Label htmlFor="ai-level">AI Level</Label>
                <Select value={String(aiLevel)} onValueChange={(value) => setAiLevel(Number(value))} disabled={gameMode === 'playerVsPlayer'}>
                    <SelectTrigger id="ai-level">
                        <SelectValue placeholder="Select AI Level" />
                    </SelectTrigger>
                    <SelectContent>
                        <SelectItem value="1">Super Easy</SelectItem>
                        <SelectItem value="2">Easy</SelectItem>
                        <SelectItem value="5">Medium</SelectItem>
                        <SelectItem value="10">Hard</SelectItem>
                        <SelectItem value="20">Super Hard</SelectItem>
                    </SelectContent>
                </Select>
            </div>
        </div>
      </CardContent>
      <Dialog open={!!endGameMessage} onOpenChange={(isOpen) => !isOpen && setEndGameMessage(null)}>
        <DialogContent>
            <DialogHeader>
                <DialogTitle>Game Over</DialogTitle>
                <DialogDescription className="text-xl text-center py-4">{endGameMessage}</DialogDescription>
            </DialogHeader>
            <DialogFooter>
                <Button onClick={resetGame}>Play Again</Button>
            </DialogFooter>
        </DialogContent>
      </Dialog>
    </Card>
  );
}


==================================================
File: src/app/games/chess/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { ChessUI } from "./chess-ui";
import { Suspense } from "react";

export default function ChessPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-xl text-center">
        <PageHeader
          title="Chess"
          description="The ultimate game of strategy. White moves first."
        />
        <div className="mt-8">
            <Suspense fallback={<div>Loading Game...</div>}>
                <ChessUI />
            </Suspense>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/logic-puzzles/logic-puzzles-ui.tsx
==================================================

"use client";

import { useState, useMemo, useCallback } from 'react';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { ScrollArea } from '@/components/ui/scroll-area';
import { cn } from '@/lib/utils';
import { Check, X, RotateCcw, HelpCircle, Award } from 'lucide-react';
import { useToast } from '@/hooks/use-toast';
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogFooter,
  DialogDescription,
} from "@/components/ui/dialog";

// --- Puzzle Definition ---
const categories = {
    nationality: ["Englishman", "Spaniard", "Ukrainian", "Norwegian", "Japanese"],
    houseColor: ["Red", "Green", "Ivory", "Yellow", "Blue"],
    pet: ["Dog", "Snails", "Fox", "Horse", "Zebra"],
    drink: ["Coffee", "Tea", "Milk", "Orange Juice", "Water"],
    cigarette: ["Old Gold", "Kools", "Chesterfields", "Lucky Strike", "Parliaments"],
};

const clues = [
    "The Englishman lives in the red house.",
    "The Spaniard owns the dog.",
    "Coffee is drunk in the green house.",
    "The Ukrainian drinks tea.",
    "The green house is immediately to the right of the ivory house.",
    "The Old Gold smoker owns snails.",
    "Kools are smoked in the yellow house.",
    "Milk is drunk in the middle house.",
    "The Norwegian lives in the first house.",
    "The man who smokes Chesterfields lives in the house next to the man with the fox.",
    "Kools are smoked in the house next to the house where the horse is kept.",
    "The Lucky Strike smoker drinks orange juice.",
    "The Japanese smokes Parliaments.",
    "The Norwegian lives next to the blue house.",
];

const solution = {
    "Englishman": { houseColor: "Red", pet: "Snails", drink: "Milk", cigarette: "Old Gold" },
    "Spaniard": { houseColor: "Ivory", pet: "Dog", drink: "Orange Juice", cigarette: "Lucky Strike" },
    "Ukrainian": { houseColor: "Blue", pet: "Horse", drink: "Tea", cigarette: "Kools" },
    "Norwegian": { houseColor: "Yellow", pet: "Fox", drink: "Water", cigarette: "Chesterfields" },
    "Japanese": { houseColor: "Green", pet: "Zebra", drink: "Coffee", cigarette: "Parliaments" },
};


const categoryTitles = {
    nationality: "Nationality",
    houseColor: "House Color",
    pet: "Pet",
    drink: "Drink",
    cigarette: "Cigarette Brand",
}

type CategoryKey = keyof typeof categories;

const mainCategory: CategoryKey = 'nationality';
const subCategories = Object.keys(categories).filter(k => k !== mainCategory) as CategoryKey[];

export function LogicPuzzleUI() {
    const { toast } = useToast();
    const [gridState, setGridState] = useState(() => createInitialGrid());
    const [isSolved, setIsSolved] = useState(false);

    function createInitialGrid() {
        const grid: Record<string, 'blank' | 'yes' | 'no'> = {};
        for (const cat of subCategories) {
            for (const mainItem of categories[mainCategory]) {
                for (const subItem of categories[cat]) {
                    grid[`${mainItem}-${subItem}`] = 'blank';
                }
            }
        }
        return grid;
    }

    const resetGrid = useCallback(() => {
        setGridState(createInitialGrid());
        setIsSolved(false);
        toast({ title: "Grid Reset", description: "The puzzle has been reset to its initial state." });
    }, [toast]);
    
    const checkSolution = useCallback(() => {
        let correct = true;
        for (const mainItem of categories[mainCategory]) {
            for (const catKey of subCategories) {
                const solvedSubItem = solution[mainItem as keyof typeof solution][catKey as keyof typeof solution.Englishman];
                if (gridState[`${mainItem}-${solvedSubItem}`] !== 'yes') {
                    correct = false;
                    break;
                }
            }
            if(!correct) break;
        }

        if (correct) {
            setIsSolved(true);
        } else {
            toast({
                variant: 'destructive',
                title: "Not Quite Right",
                description: "The solution is not correct yet. Keep trying!",
            });
        }
    }, [gridState, toast]);

    const handleCellClick = (mainItem: string, subItem: string, catKey: CategoryKey) => {
        const key = `${mainItem}-${subItem}`;
        const currentState = gridState[key];
        let nextState: 'blank' | 'yes' | 'no' = 'blank';

        if(currentState === 'blank') nextState = 'yes';
        else if(currentState === 'yes') nextState = 'no';
        else nextState = 'blank';

        const newGridState = { ...gridState };
        newGridState[key] = nextState;

        // Auto-update logic if 'yes' is selected
        if (nextState === 'yes') {
            // Set all other items in the same row/category to 'no'
            for(const otherSubItem of categories[catKey]) {
                if(otherSubItem !== subItem) {
                    newGridState[`${mainItem}-${otherSubItem}`] = 'no';
                }
            }
            // Set all other items in the same column/mainItem to 'no'
            for(const otherMainItem of categories[mainCategory]) {
                if(otherMainItem !== mainItem) {
                    newGridState[`${otherMainItem}-${subItem}`] = 'no';
                }
            }
        }

        setGridState(newGridState);
    };
    
    const mainItems = categories[mainCategory];
    const gridTemplateColumns = `repeat(${subCategories.length * 5 + 1}, minmax(0, 1fr))`;


    return (
        <div className="flex flex-col lg:flex-row gap-6">
            <Card className="lg:w-1/3">
                <CardHeader>
                    <CardTitle>The Zebra Puzzle</CardTitle>
                    <CardDescription>There are five houses...</CardDescription>
                </CardHeader>
                <CardContent>
                    <ScrollArea className="h-96 pr-4">
                        <p className="mb-4 text-sm text-muted-foreground">The following is a classic logic puzzle. There are five houses in a row. Use the clues below to figure out who owns the zebra and who drinks the water.</p>
                        <ol className="list-decimal list-inside space-y-2 text-sm">
                            {clues.map((clue, i) => <li key={i}>{clue}</li>)}
                        </ol>
                    </ScrollArea>
                    <div className="mt-4 flex flex-wrap gap-2">
                         <Button onClick={resetGrid}><RotateCcw className="mr-2"/>Reset</Button>
                         <Button onClick={checkSolution} variant="secondary"><HelpCircle className="mr-2"/>Check Solution</Button>
                    </div>
                </CardContent>
            </Card>

            <Card className="lg:w-2/3 overflow-x-auto">
                 <CardContent className="p-4">
                    <div className="grid gap-0" style={{ gridTemplateColumns }}>
                        {/* Corner Header */}
                        <div className="sticky top-0 left-0 z-10 p-2 font-bold bg-muted border-b border-r">&nbsp;</div>
                        
                        {/* Sub-Category Headers */}
                        {subCategories.map(catKey => (
                             categories[catKey].map(subItem => (
                                <div key={subItem} className="p-2 text-xs font-bold text-center border-b transform -rotate-45" style={{ writingMode: 'vertical-rl', textOrientation: 'mixed' }}>
                                    {subItem}
                                </div>
                            ))
                        ))}

                        {/* Main Grid Content */}
                        {mainItems.map((mainItem, mainIndex) => (
                            <>
                                <div key={mainItem} className="sticky left-0 p-2 font-bold bg-muted border-r">{mainItem}</div>
                                {subCategories.map(catKey => (
                                    categories[catKey].map((subItem, subIndex) => {
                                        const key = `${mainItem}-${subItem}`;
                                        const state = gridState[key];
                                        return (
                                            <div 
                                                key={key} 
                                                className={cn(
                                                    "w-full aspect-square flex items-center justify-center border cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700",
                                                    (mainIndex + 1) % 5 === 0 && mainIndex !== 4 && 'border-b-2 border-b-primary',
                                                    (subIndex + 1) % 5 === 0 && subIndex !== 4 && 'border-r-2 border-r-primary'
                                                )}
                                                onClick={() => handleCellClick(mainItem, subItem, catKey)}
                                            >
                                                {state === 'yes' && <Check className="text-green-500" />}
                                                {state === 'no' && <X className="text-red-500" />}
                                            </div>
                                        )
                                    })
                                ))}
                            </>
                        ))}
                    </div>
                 </CardContent>
            </Card>
             <Dialog open={isSolved} onOpenChange={(isOpen) => !isOpen && setIsSolved(false)}>
                <DialogContent>
                    <DialogHeader>
                        <DialogTitle className="flex items-center justify-center text-center">
                           <Award className="w-12 h-12 text-yellow-500 mr-4" />
                           You Solved It!
                        </DialogTitle>
                        <DialogDescription className="text-xl text-center py-4">
                           Congratulations, you are a master of logic! The Norwegian drinks the water, and the Japanese owns the Zebra.
                        </DialogDescription>
                    </DialogHeader>
                    <DialogFooter>
                        <Button onClick={resetGrid} className="w-full">Play Again</Button>
                    </DialogFooter>
                </DialogContent>
            </Dialog>
        </div>
    );
}


==================================================
File: src/app/games/logic-puzzles/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { LogicPuzzleUI } from "./logic-puzzles-ui";
import { Suspense } from "react";

export default function LogicPuzzlesPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-7xl text-center">
        <PageHeader
          title="Logic Puzzle"
          description="Use the clues to solve the famous Zebra Puzzle."
        />
        <div className="mt-8">
          <Suspense fallback={<div>Loading Puzzle...</div>}>
            <LogicPuzzleUI />
          </Suspense>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/ludo/ludo-ui.tsx
==================================================


"use client";

import React, { useState, useEffect, useCallback } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { cn } from '@/lib/utils';
import { Award, RotateCcw, Dices } from 'lucide-react';
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogFooter,
  DialogDescription,
} from "@/components/ui/dialog";

type PlayerColor = 'red' | 'green' | 'yellow' | 'blue';
const COLORS: PlayerColor[] = ['red', 'green', 'yellow', 'blue'];

const PATH_START: Record<PlayerColor, number> = { red: 1, green: 14, yellow: 27, blue: 40 };
const HOME_ENTRANCE: Record<PlayerColor, number> = { red: 51, green: 12, yellow: 25, blue: 38 };

const SAFE_SPOTS = [1, 9, 14, 22, 27, 35, 40, 48];

const TOTAL_PATH_SQUARES = 52;

interface Token {
  id: number;
  color: PlayerColor;
  position: 'base' | number; // 'base' or path index 1-52, or home path index 101-106
  state: 'base' | 'active' | 'home';
}

const colorClasses = {
    red: { bg: 'bg-red-500', text: 'text-red-500', border: 'border-red-700' },
    green: { bg: 'bg-green-500', text: 'text-green-500', border: 'border-green-700' },
    yellow: { bg: 'bg-yellow-500', text: 'text-yellow-500', border: 'border-yellow-700' },
    blue: { bg: 'bg-blue-500', text: 'text-blue-500', border: 'border-blue-700' },
};


// Mapping of board index (0-224) to path index (1-52)
const boardToPathMap = new Map<number, number>([
    [91, 1], [92, 2], [93, 3], [94, 4], [95, 5],
    [80, 6], [65, 7], [50, 8], [35, 9], [20, 10], [5, 11],
    [6, 12],
    [7, 13], [22, 14], [37, 15], [52, 16], [67, 17], [82, 18],
    [97, 19], [98, 20], [99, 21], [100, 22], [101, 23], [116, 24],
    [117, 25],
    [132, 26], [147, 27], [162, 28], [177, 29], [192, 30], [207, 31],
    [219, 32], [218, 33], [217, 34], [216, 35], [215, 36], [200, 37],
    [185, 38],
    [170, 39], [155, 40], [140, 41], [125, 42], [110, 43], [109, 44],
    [108, 45], [107, 46], [106, 47], [105, 48], [90, 49], [75, 50],
    [60, 51], [45, 52]
]);

// This needs a major correction. I'll rebuild this part.
const correctBoardToPathMap = new Map<number, number>();
const pathCoords = [
    [6, 1], [6, 2], [6, 3], [6, 4], [6, 5],
    [5, 6], [4, 6], [3, 6], [2, 6], [1, 6], [0, 6],
    [0, 7],
    [0, 8], [1, 8], [2, 8], [3, 8], [4, 8], [5, 8],
    [6, 9], [6, 10], [6, 11], [6, 12], [6, 13], [6, 14],
    [7, 14],
    [8, 14], [8, 13], [8, 12], [8, 11], [8, 10], [8, 9],
    [9, 8], [10, 8], [11, 8], [12, 8], [13, 8], [14, 8],
    [14, 7],
    [14, 6], [13, 6], [12, 6], [11, 6], [10, 6], [9, 6],
    [8, 5], [8, 4], [8, 3], [8, 2], [8, 1], [8, 0],
    [7, 0],
];
pathCoords.forEach(([row, col], index) => {
    correctBoardToPathMap.set(row * 15 + col, index + 1);
});


const pathToBoardMap = new Map<number, number>(Array.from(correctBoardToPathMap.entries()).map(([k, v]) => [v, k]));

const homePathMap: Record<PlayerColor, number[]> = {
    red:    [7*15+1, 7*15+2, 7*15+3, 7*15+4, 7*15+5, 7*15+6],
    green:  [1*15+7, 2*15+7, 3*15+7, 4*15+7, 5*15+7, 6*15+7],
    yellow: [7*15+13, 7*15+12, 7*15+11, 7*15+10, 7*15+9, 7*15+8],
    blue:   [13*15+7, 12*15+7, 11*15+7, 10*15+7, 9*15+7, 8*15+7],
};

const yardMap: Record<PlayerColor, {outer: number[], inner: number[]}> = {
    red: {
        outer: [0, 1*15, 2*15, 3*15, 4*15, 5*15, 5*15+1, 5*15+2, 5*15+3, 5*15+4, 5*15+5, 4*15+5, 3*15+5, 2*15+5, 1*15+5, 5],
        inner: [1*15+1, 1*15+2, 1*15+3, 1*15+4, 2*15+1, 2*15+2, 2*15+3, 2*15+4, 3*15+1, 3*15+2, 3*15+3, 3*15+4, 4*15+1, 4*15+2, 4*15+3, 4*15+4]
    },
    green: {
        outer: [9, 1*15+9, 2*15+9, 3*15+9, 4*15+9, 5*15+9, 5*15+10, 5*15+11, 5*15+12, 5*15+13, 5*15+14, 4*15+14, 3*15+14, 2*15+14, 1*15+14, 14],
        inner: [1*15+10, 1*15+11, 1*15+12, 1*15+13, 2*15+10, 2*15+11, 2*15+12, 2*15+13, 3*15+10, 3*15+11, 3*15+12, 3*15+13, 4*15+10, 4*15+11, 4*15+12, 4*15+13]
    },
    blue: {
        outer: [9*15, 9*15+1, 9*15+2, 9*15+3, 9*15+4, 9*15+5, 10*15+5, 11*15+5, 12*15+5, 13*15+5, 14*15+5, 14*15+4, 14*15+3, 14*15+2, 14*15+1, 14*15],
        inner: [10*15+1, 10*15+2, 10*15+3, 10*15+4, 11*15+1, 11*15+2, 11*15+3, 11*15+4, 12*15+1, 12*15+2, 12*15+3, 12*15+4, 13*15+1, 13*15+2, 13*15+3, 13*15+4]
    },
    yellow: {
        outer: [9*15+9, 9*15+10, 9*15+11, 9*15+12, 9*15+13, 9*15+14, 10*15+14, 11*15+14, 12*15+14, 13*15+14, 14*15+14, 14*15+13, 14*15+12, 14*15+11, 14*15+10, 14*15+9],
        inner: [10*15+10, 10*15+11, 10*15+12, 10*15+13, 11*15+10, 11*15+11, 11*15+12, 11*15+13, 12*15+10, 12*15+11, 12*15+12, 12*15+13, 13*15+10, 13*15+11, 13*15+12, 13*15+13]
    }
}

const yardTokenPositions: Record<PlayerColor, number[]> = {
    red:    [2*15+2, 2*15+3, 3*15+2, 3*15+3],
    green:  [2*15+11, 2*15+12, 3*15+11, 3*15+12],
    yellow: [11*15+11, 11*15+12, 12*15+11, 12*15+12],
    blue:   [11*15+2, 11*15+3, 12*15+2, 12*15+3],
};

const LudoBoard = ({ tokens, onTokenClick, movableTokens }: { tokens: Token[], onTokenClick: (token: Token) => void, movableTokens: number[] }) => {

    const renderToken = (token: Token) => {
        const isMovable = movableTokens.includes(token.id);
        
        return (
            <div 
                key={token.id}
                className={cn(
                    "w-full h-full rounded-full flex items-center justify-center text-white font-bold cursor-pointer transition-all duration-300 border-2 border-black/20 shadow-[inset_0_-2px_4px_rgba(0,0,0,0.4),0_2px_4px_rgba(255,255,255,0.4)]",
                    isMovable && "animate-bounce ring-4 ring-white ring-offset-2 ring-offset-black",
                    colorClasses[token.color].bg
                )}
                onClick={() => isMovable && onTokenClick(token)}
            >
                <div className='w-1/2 h-1/2 rounded-full bg-white/30'/>
            </div>
        )
    };
    
    const getBoardPosition = (token: Token): number => {
        if(token.state === 'base') {
            const baseTokens = tokens.filter(t => t.color === token.color && t.state === 'base');
            const tokenIndex = baseTokens.findIndex(t => t.id === token.id);
            return yardTokenPositions[token.color][tokenIndex];
        }
        if(token.position > 100) { // Home path
            const homePathIndex = token.position - 101;
            return homePathMap[token.color][homePathIndex];
        }
        return pathToBoardMap.get(token.position as number)!;
    }

    return (
        <div className="relative bg-stone-200 p-2 rounded-lg shadow-lg aspect-square max-w-xl mx-auto border-4 border-gray-800">
            {/* Board Grid */}
            <div className="grid grid-cols-15 grid-rows-15 w-full h-full">
                {Array.from({ length: 225 }).map((_, i) => {
                    let bgColor = 'bg-transparent';
                    
                    // Main Yards
                    const isRedYard = (i % 15 < 6) && (Math.floor(i/15) < 6);
                    const isGreenYard = (i % 15 > 8) && (Math.floor(i/15) < 6);
                    const isBlueYard = (i % 15 < 6) && (Math.floor(i/15) > 8);
                    const isYellowYard = (i % 15 > 8) && (Math.floor(i/15) > 8);
                    
                    if(isRedYard) bgColor = colorClasses.red.bg;
                    if(isGreenYard) bgColor = colorClasses.green.bg;
                    if(isBlueYard) bgColor = colorClasses.blue.bg;
                    if(isYellowYard) bgColor = colorClasses.yellow.bg;

                    // Inner Yard Circles
                    if(yardMap.red.inner.includes(i)) bgColor = 'bg-white';
                    if(yardMap.green.inner.includes(i)) bgColor = 'bg-white';
                    if(yardMap.blue.inner.includes(i)) bgColor = 'bg-white';
                    if(yardMap.yellow.inner.includes(i)) bgColor = 'bg-white';

                    // Center Home Triangle
                    if ((i >= 105 && i <= 107) || (i >= 120 && i <= 122) || (i >= 135 && i <= 137)) return null
                    const centerRow = Math.floor(i / 15);
                    const centerCol = i % 15;
                    if(centerRow >= 6 && centerRow <= 8 && centerCol >= 6 && centerCol <= 8) {
                       if (i === 112) return <div key={i} className="col-span-3 row-span-3">
                           <svg viewBox="0 0 100 100" className="w-full h-full">
                               <polygon points="0,0 100,50 0,100" className="fill-blue-500" />
                               <polygon points="0,0 50,0 50,100 0,100" className="fill-blue-500" style={{ transform: "scaleX(-1) translateX(-100px)" }}/>
                               <polygon points="0,0 100,0 50,100" className="fill-red-500" />
                               <polygon points="50,0 100,0 100,100 50,100" className="fill-green-500" style={{ transform: "scaleY(-1) translateY(-100px)" }}/>
                               <polygon points="0,50 100,100 0,100" className="fill-yellow-500" />
                               <polygon points="100,0 100,100 50,100" className="fill-green-500" />
                               <polygon points="0,0 100,0 100,50" className="fill-red-500" />
                               <polygon points="0,100 100,100 50,0" className="fill-yellow-500" style={{ transform: "scaleY(-1) translateY(-100px)"}}/>
                                <polygon points="0 50, 50 0, 50 100" className="fill-blue-500"/>
                                <polygon points="50 0, 100 50, 50 100" className="fill-green-500"/>
                                <polygon points="0 50, 50 100, 100 50" className="fill-yellow-500"/>
                                <polygon points="0 50, 50 0, 100 50" className="fill-red-500"/>
                           </svg>
                       </div>;
                       return null;
                    }


                    const pathIndex = correctBoardToPathMap.get(i);
                    let isPath = !!pathIndex;
                    let isSafe = SAFE_SPOTS.includes(pathIndex!);
                    let isHomePath = false;

                    Object.values(homePathMap).forEach(path => {
                        if (path.includes(i)) isHomePath = true;
                    });
                    
                    if (isPath || isHomePath) {
                        bgColor = 'bg-white';
                        if (isHomePath) {
                            if (centerRow === 7 && centerCol > 0 && centerCol < 7) bgColor = colorClasses.red.bg;
                            if (centerCol === 7 && centerRow > 8 && centerRow < 14) bgColor = colorClasses.yellow.bg;
                            if (centerRow === 7 && centerCol > 8 && centerRow < 14) bgColor = colorClasses.green.bg;
                            if (centerCol === 7 && centerRow >= 0 && centerRow < 6) bgColor = colorClasses.blue.bg;
                        }

                        if(i === pathToBoardMap.get(PATH_START.red)) bgColor = colorClasses.red.bg;
                        if(i === pathToBoardMap.get(PATH_START.green)) bgColor = colorClasses.green.bg;
                        if(i === pathToBoardMap.get(PATH_START.yellow)) bgColor = colorClasses.yellow.bg;
                        if(i === pathToBoardMap.get(PATH_START.blue)) bgColor = colorClasses.blue.bg;
                    }


                    return (
                        <div key={i} className={cn("w-full h-full relative border border-black/10", bgColor)}>
                           {isSafe && <div className="absolute w-full h-full flex items-center justify-center text-xl text-black/20 font-bold">*</div>}
                           
                        </div>
                    );
                })}

            </div>
             {/* Render tokens */}
            {tokens.map(token => {
                const boardIndex = getBoardPosition(token);
                if (boardIndex === -1) return null;
                const row = Math.floor(boardIndex / 15);
                const col = boardIndex % 15;
                const tokensOnSquare = tokens.filter(t => getBoardPosition(t) === boardIndex);
                const tokenIndexOnSquare = tokensOnSquare.findIndex(t => t.id === token.id);

                return (
                    <div 
                        key={token.id} 
                        className="absolute flex items-center justify-center w-[6.66%] h-[6.66%] transition-all duration-500 ease-in-out" 
                        style={{
                            top: `${row * (100/15)}%`, 
                            left: `${col * (100/15)}%`,
                            transform: `translate(${tokenIndexOnSquare * 10}%, ${tokenIndexOnSquare * 10}%)` // Stagger tokens
                        }}>
                        {renderToken(token)}
                    </div>
                )
            })}
        </div>
    );
};

const Dice = ({ onRoll, value, rolling, color }: { onRoll: () => void, value: number, rolling: boolean, color: PlayerColor }) => (
    <Button onClick={onRoll} disabled={rolling} size="lg" className={cn("w-24 h-24 text-6xl font-bold text-white shadow-lg", colorClasses[color].bg, `hover:${colorClasses[color].bg}/90`)}>
        {rolling ? <Dices className="animate-spin"/> : value || <Dices />}
    </Button>
)

export function LudoUI() {
  const [tokens, setTokens] = useState<Token[]>([]);
  const [activePlayerIndex, setActivePlayerIndex] = useState(0);
  const [diceValue, setDiceValue] = useState<number>(0);
  const [isRolling, setIsRolling] = useState(false);
  const [movableTokens, setMovableTokens] = useState<number[]>([]);
  const [winner, setWinner] = useState<PlayerColor | null>(null);
  const [status, setStatus] = useState("Red's turn to roll!");
  const [turnRolls, setTurnRolls] = useState<number[]>([]);

  const initGame = useCallback(() => {
    let initialTokens: Token[] = [];
    let idCounter = 0;
    for (const color of COLORS) {
      for (let i = 0; i < 4; i++) {
        initialTokens.push({ id: idCounter++, color, position: 'base', state: 'base' });
      }
    }
    setTokens(initialTokens);
    setActivePlayerIndex(0);
    setDiceValue(0);
    setMovableTokens([]);
    setWinner(null);
    setStatus("Red's turn to roll!");
    setTurnRolls([]);
  }, []);

  useEffect(() => {
    initGame();
  }, [initGame]);

  const activePlayer = COLORS[activePlayerIndex];

  const rollDice = () => {
    if(movableTokens.length > 0) {
        setStatus("You must move a token!");
        return;
    }
    if (turnRolls.length >= 3 && turnRolls.every(r => r === 6)) {
        nextTurn();
        return;
    }

    setIsRolling(true);
    setTimeout(() => {
      const roll = Math.floor(Math.random() * 6) + 1;
      setDiceValue(roll);
      setIsRolling(false);
      findMovableTokens(roll);
      setTurnRolls(prev => [...prev, roll]);
    }, 500);
  };
  
  const findMovableTokens = (roll: number) => {
    const playerTokens = tokens.filter(t => t.color === activePlayer);
    let canMove = false;

    for (const token of playerTokens) {
        if (token.state === 'base') {
            if (roll === 6) canMove = true;
        } else {
             const currentPos = token.position as number;
            const homeEntrance = HOME_ENTRANCE[token.color];
            let newPos = currentPos + roll;
             if(currentPos < 100 && (newPos > homeEntrance && currentPos <= homeEntrance)){
                const homePathSteps = newPos - homeEntrance;
                if(100 + homePathSteps <= 106) canMove = true;
            } else if (currentPos > 100){
                if(currentPos + roll <= 106) canMove = true;
            } else {
                canMove = true;
            }
        }
    }
    
    if(canMove) {
        const movable = playerTokens.filter(token => {
            if(token.state === 'base') return roll === 6;
            const currentPos = token.position as number;
            const homeEntrance = HOME_ENTRANCE[token.color];
            let newPos = currentPos + roll;
            if(currentPos < 100 && (newPos > homeEntrance && currentPos <= homeEntrance)){
                const homePathSteps = newPos - homeEntrance;
                return 100 + homePathSteps <= 106;
            } else if (currentPos > 100){
                return currentPos + roll <= 106;
            }
            return true;
        }).map(t => t.id)
        setMovableTokens(movable);
        setStatus("Select a token to move.");
    } else {
        setTimeout(() => nextTurn(roll), 1000);
    }
  }

  const moveToken = (tokenToMove: Token) => {
    if (!movableTokens.includes(tokenToMove.id)) {
        setStatus("This token cannot be moved.");
        return;
    }

    setTokens(prevTokens => {
        let newTokens = prevTokens.map(t => ({...t}));
        const tokenIndex = newTokens.findIndex(t => t.id === tokenToMove.id);
        const token = newTokens[tokenIndex];

        let captured = false;
        if(token.state === 'base' && diceValue === 6) {
            token.position = PATH_START[token.color];
            token.state = 'active';
        } else if (token.state === 'active') {
            const currentPos = token.position as number;
            const homeEntrance = HOME_ENTRANCE[token.color];
            
            // This is a wrap-around move for players like green whose path crosses the 52->1 boundary
            const pathCrossesBoundary = homeEntrance < PATH_START[token.color];
            let newPos = currentPos + diceValue;

            if (pathCrossesBoundary && newPos > TOTAL_PATH_SQUARES) {
                newPos = newPos % TOTAL_PATH_SQUARES;
            }
            
            // Check for entering home path
            if (currentPos <= homeEntrance && newPos > homeEntrance && (!pathCrossesBoundary || (pathCrossesBoundary && currentPos > newPos))) {
                token.position = 100 + (newPos - homeEntrance);
            } else if (currentPos > 100) {
                token.position = newPos;
            }
            else {
                token.position = newPos;
            }
            
            if(token.position === 106) token.state = 'home';
            
            // Check for captures
            const finalPos = token.position;
            if(finalPos < 100 && !SAFE_SPOTS.includes(finalPos as number)) {
                const opponentTokensOnNewPos = newTokens.filter(t => t.position === finalPos && t.color !== token.color);
                if(opponentTokensOnNewPos.length > 0){
                    captured = true;
                    opponentTokensOnNewPos.forEach(ot => {
                        const opponentIndex = newTokens.findIndex(t => t.id === ot.id);
                        newTokens[opponentIndex].position = 'base';
                        newTokens[opponentIndex].state = 'base';
                    })
                }
            }
        }
        
        // Check if player has all tokens home
        const playerTokens = newTokens.filter(t => t.color === activePlayer);
        if(playerTokens.every(t => t.state === 'home')) {
            setWinner(activePlayer);
        }

        return newTokens;
    });
    
    const captured = false; // logic needed here
    setMovableTokens([]);
    nextTurn(diceValue, captured);
  };
  
  const nextTurn = (roll?: number, captured?: boolean) => {
    const playerTokens = tokens.filter(t => t.color === activePlayer);
    if(playerTokens.every(t => t.state === 'home')) {
        setWinner(activePlayer);
        setStatus(`Game Over! ${activePlayer} wins!`);
        return;
    }
    
    if (roll !== 6 && !captured) {
      const nextPlayerIndex = (activePlayerIndex + 1) % COLORS.length;
      setActivePlayerIndex(nextPlayerIndex);
      setStatus(`${COLORS[nextPlayerIndex]}'s turn to roll!`);
      setTurnRolls([]);
    } else {
      setStatus(`${activePlayer} gets another turn!`);
    }
    setDiceValue(0);
  };

  return (
    <Card className="shadow-2xl bg-stone-100 dark:bg-gray-900">
      <CardContent className="p-2 md:p-6 flex flex-col lg:flex-row gap-6 items-center justify-center">
        <div className="flex-shrink-0 w-full lg:w-64 space-y-4 text-center order-2 lg:order-1">
          <Card className="bg-white/80 dark:bg-gray-800/80">
            <CardContent className="p-4">
              <h3 className="text-xl font-bold mb-2">Game Status</h3>
              <p className={cn("text-lg font-semibold capitalize", colorClasses[activePlayer].text)}>{status}</p>
            </CardContent>
          </Card>

          <Card className="bg-white/80 dark:bg-gray-800/80">
            <CardContent className="p-4 flex flex-col items-center gap-4">
              <h3 className="text-xl font-bold">Dice</h3>
              <Dice onRoll={rollDice} value={diceValue} rolling={isRolling} color={activePlayer} />
              <p className="text-sm text-muted-foreground">Current Turn: <span className={cn("font-bold capitalize text-lg", colorClasses[activePlayer].text)}>{activePlayer}</span></p>
            </CardContent>
          </Card>

          <Button onClick={initGame} variant="secondary" className="w-full">
            <RotateCcw className="mr-2" /> New Game
          </Button>
        </div>

        <div className="order-1 lg:order-2 w-full max-w-xl">
            <LudoBoard tokens={tokens} onTokenClick={moveToken} movableTokens={movableTokens} />
        </div>
        
        <Dialog open={!!winner} onOpenChange={(isOpen) => !isOpen && setWinner(null)}>
            <DialogContent>
                <DialogHeader>
                    <DialogTitle className="flex items-center justify-center text-center">
                        <Award className="w-12 h-12 text-yellow-500 mr-4" />
                        Game Over!
                    </DialogTitle>
                    <DialogDescription className="text-xl text-center py-4 capitalize">
                        <span className={cn("font-bold", colorClasses[winner!].text)}>{winner}</span> wins the game!
                    </DialogDescription>
                </DialogHeader>
                <DialogFooter>
                    <Button onClick={initGame} className="w-full">Play Again</Button>
                </DialogFooter>
            </DialogContent>
        </Dialog>
      </CardContent>
    </Card>
  );
}

    


==================================================
File: src/app/games/ludo/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { LudoUI } from "./ludo-ui";
import { Suspense } from "react";

export default function LudoPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-4xl text-center">
        <PageHeader
          title="Ludo"
          description="The classic multiplayer board game. Get all your tokens home to win!"
        />
        <div className="mt-8">
          <Suspense fallback={<div>Loading Game...</div>}>
            <LudoUI />
          </Suspense>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/memory-match/memory-match-ui.tsx
==================================================

"use client";

import React, { useState, useEffect, useCallback } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { cn } from '@/lib/utils';
import { Award, RotateCcw, BrainCircuit } from 'lucide-react';
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/ui/dialog';
import { icons } from 'lucide-react';

const iconNames = Object.keys(icons) as (keyof typeof icons)[];

const getCardIcons = (pairs = 8) => {
    const selectedIcons: (keyof typeof icons)[] = [];
    while (selectedIcons.length < pairs) {
        const randomIndex = Math.floor(Math.random() * iconNames.length);
        const randomIcon = iconNames[randomIndex];
        if (!selectedIcons.includes(randomIcon)) {
            selectedIcons.push(randomIcon);
        }
    }
    return [...selectedIcons, ...selectedIcons]; // Duplicate for pairs
}


const shuffleArray = (array: any[]) => {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
};

interface CardInfo {
    id: number;
    icon: keyof typeof icons;
    isFlipped: boolean;
    isMatched: boolean;
}

const GameCard = ({ card, onFlip }: { card: CardInfo, onFlip: (id: number) => void }) => {
    const Icon = icons[card.icon];
    return (
        <div 
            className="aspect-square perspective-1000"
            onClick={() => onFlip(card.id)}
        >
            <div 
                className={cn(
                    "relative w-full h-full transform-style-3d transition-transform duration-500",
                    card.isFlipped || card.isMatched ? 'rotate-y-180' : ''
                )}
            >
                {/* Card Back */}
                <div className="absolute w-full h-full backface-hidden flex items-center justify-center bg-primary rounded-lg shadow-lg cursor-pointer">
                    <BrainCircuit className="w-1/2 h-1/2 text-primary-foreground" />
                </div>
                {/* Card Front */}
                <div className={cn(
                    "absolute w-full h-full backface-hidden rotate-y-180 flex items-center justify-center rounded-lg shadow-lg",
                    card.isMatched ? 'bg-green-500' : 'bg-secondary'
                )}>
                    <Icon className={cn("w-1/2 h-1/2", card.isMatched ? 'text-white' : 'text-secondary-foreground')} />
                </div>
            </div>
        </div>
    );
}

export function MemoryMatchUI() {
    const [cards, setCards] = useState<CardInfo[]>([]);
    const [flippedCards, setFlippedCards] = useState<number[]>([]);
    const [moves, setMoves] = useState(0);
    const [gameOver, setGameOver] = useState(false);

    const initializeGame = useCallback(() => {
        const icons = getCardIcons(8);
        const shuffledIcons = shuffleArray(icons);
        setCards(shuffledIcons.map((icon, index) => ({
            id: index,
            icon,
            isFlipped: false,
            isMatched: false
        })));
        setFlippedCards([]);
        setMoves(0);
        setGameOver(false);
    }, []);

    useEffect(() => {
        initializeGame();
    }, [initializeGame]);

    const handleFlip = (id: number) => {
        if (flippedCards.length === 2 || cards.find(c => c.id === id)?.isFlipped) {
            return;
        }

        const newFlipped = [...flippedCards, id];
        setFlippedCards(newFlipped);

        setCards(prev => prev.map(card => card.id === id ? { ...card, isFlipped: true } : card));

        if (newFlipped.length === 2) {
            setMoves(prev => prev + 1);
            const [firstId, secondId] = newFlipped;
            const firstCard = cards.find(c => c.id === firstId);
            const secondCard = cards.find(c => c.id === secondId);

            if (firstCard?.icon === secondCard?.icon) {
                // It's a match
                setCards(prev => prev.map(card =>
                    card.icon === firstCard.icon ? { ...card, isMatched: true, isFlipped: false } : card
                ));
                setFlippedCards([]);
            } else {
                // Not a match, flip back after a delay
                setTimeout(() => {
                    setCards(prev => prev.map(card =>
                        card.id === firstId || card.id === secondId ? { ...card, isFlipped: false } : card
                    ));
                    setFlippedCards([]);
                }, 1000);
            }
        }
    };
    
    useEffect(() => {
        if (cards.length > 0 && cards.every(c => c.isMatched)) {
            setGameOver(true);
        }
    }, [cards]);

    return (
        <Card className="shadow-2xl">
            <CardContent className="p-4 md:p-6 space-y-4">
                <div className="flex justify-between items-center bg-muted p-2 rounded-lg">
                    <div className="text-lg font-bold">Moves: {moves}</div>
                    <Button onClick={initializeGame}><RotateCcw className="mr-2" />New Game</Button>
                </div>
                <div className="grid grid-cols-4 gap-2 md:gap-4">
                    {cards.map(card => (
                        <GameCard key={card.id} card={card} onFlip={handleFlip} />
                    ))}
                </div>
                 <Dialog open={gameOver} onOpenChange={(isOpen) => !isOpen && setGameOver(false)}>
                    <DialogContent>
                        <DialogHeader>
                            <DialogTitle className="flex items-center justify-center text-center">
                               <Award className="w-12 h-12 text-yellow-500 mr-4" />
                               You Won!
                            </DialogTitle>
                            <DialogDescription className="text-xl text-center py-4">
                                Great job! You completed the game in {moves} moves.
                            </DialogDescription>
                        </DialogHeader>
                        <DialogFooter>
                            <Button onClick={initializeGame} className="w-full">Play Again</Button>
                        </DialogFooter>
                    </DialogContent>
                </Dialog>
            </CardContent>
        </Card>
    );
}

// Add custom CSS for the 3D card flip effect
const styles = `
.perspective-1000 { perspective: 1000px; }
.transform-style-3d { transform-style: preserve-3d; }
.rotate-y-180 { transform: rotateY(180deg); }
.backface-hidden { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
`;

const styleSheet = typeof document !== 'undefined' ? document.createElement("style") : null;
if(styleSheet) {
    styleSheet.type = "text/css";
    styleSheet.innerText = styles;
    document.head.appendChild(styleSheet);
}


==================================================
File: src/app/games/memory-match/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { MemoryMatchUI } from "./memory-match-ui";
import { Suspense } from "react";

export default function MemoryMatchPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-4xl text-center">
        <PageHeader
          title="Memory Match"
          description="Flip cards to find matching pairs. Test your memory!"
        />
        <div className="mt-8">
          <Suspense fallback={<div>Loading Game...</div>}>
            <MemoryMatchUI />
          </Suspense>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/mind-games/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import {
  Card,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Brain, Lightbulb, Puzzle } from "lucide-react";
import Link from "next/link";

const puzzles = [
    {
        name: "Memory Match",
        description: "Test your memory by matching pairs.",
        icon: Brain,
        href: "/games/memory-match",
    },
    {
        name: "Logic Puzzles",
        description: "Solve challenging logic grids.",
        icon: Lightbulb,
        href: "/games/logic-puzzles",
    },
    {
        name: "Sudoku",
        description: "The classic number placement puzzle.",
        icon: Puzzle,
        href: "/games/sudoku",
    }
]

export default function MindGamesPage() {
  return (
    <div className="container mx-auto py-8 px-4 sm:px-6 lg:px-8">
      <PageHeader
        title="Mind Games"
        description="A collection of puzzles to challenge your brain."
      />
      <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-8">
        {puzzles.map((game) => {
          const Icon = game.icon;
          return (
            <Link href={game.href} key={game.name} className="group">
              <Card className="h-full transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1 hover:border-primary">
                <CardHeader className="flex flex-col items-center justify-center text-center p-6">
                  <div className="p-4 bg-muted rounded-full mb-4">
                    <Icon className="h-10 w-10 text-primary" />
                  </div>
                  <CardTitle className="font-headline text-xl">
                    {game.name}
                  </CardTitle>
                  <CardDescription>{game.description}</CardDescription>
                </CardHeader>
              </Card>
            </Link>
          );
        })}
      </div>
    </div>
  );
}


==================================================
File: src/app/games/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import {
  Card,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { games } from "@/lib/games";
import Link from "next/link";

export default function GamesPage() {
  return (
    <div className="container mx-auto py-8 px-4 sm:px-6 lg:px-8">
      <PageHeader
        title="Games"
        description="A collection of fun and engaging offline games to pass the time."
      />
      <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-8">
        {games.map((game) => {
          const Icon = game.icon;
          return (
            <Link href={game.href} key={game.name} className="group">
              <Card className="h-full transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1 hover:border-primary">
                <CardHeader className="flex flex-col items-center justify-center text-center p-6">
                  <div className="p-4 bg-muted rounded-full mb-4">
                    <Icon className="h-10 w-10 text-primary" />
                  </div>
                  <CardTitle className="font-headline text-xl">
                    {game.name}
                  </CardTitle>
                  <CardDescription>{game.description}</CardDescription>
                </CardHeader>
              </Card>
            </Link>
          );
        })}
      </div>
    </div>
  );
}


==================================================
File: src/app/games/snakes-and-ladders/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { SnakesAndLaddersUI } from "./snakes-and-ladders-ui";
import { Suspense } from "react";

export default function SnakesAndLaddersPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-4xl text-center">
        <PageHeader
          title="Snakes & Ladders"
          description="Roll the dice, climb the ladders, and avoid the snakes to win!"
        />
        <div className="mt-8">
          <Suspense fallback={<div>Loading Game...</div>}>
            <SnakesAndLaddersUI />
          </Suspense>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/snakes-and-ladders/snakes-and-ladders-ui.tsx
==================================================

"use client";

import React, { useState, useEffect, useCallback, useMemo } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { cn } from '@/lib/utils';
import { Award, RotateCcw, Dices, User, Bot } from 'lucide-react';
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogFooter,
  DialogDescription,
} from "@/components/ui/dialog";

const BOARD_SIZE = 10;
const TOTAL_SQUARES = BOARD_SIZE * BOARD_SIZE;

const SNAKES: Record<number, number> = {
  17: 7, 54: 34, 62: 19, 64: 60, 87: 24, 93: 73, 95: 75, 99: 78,
};
const LADDERS: Record<number, number> = {
  4: 14, 9: 31, 20: 38, 28: 84, 40: 59, 51: 67, 63: 81, 71: 91,
};

const PlayerPiece = ({ color, isAI }: { color: string, isAI: boolean }) => (
  <div className={cn("w-full h-full rounded-full flex items-center justify-center text-white transition-all duration-300 border-2 border-black/20 shadow-lg", color)}>
    {isAI ? <Bot className="w-4 h-4" /> : <User className="w-4 h-4" />}
  </div>
);

const GameBoard = ({ players }: { players: Player[] }) => {
  const board = useMemo(() => {
    const squares = Array.from({ length: TOTAL_SQUARES }, (_, i) => TOTAL_SQUARES - i);
    const rows: number[][] = [];
    for (let i = 0; i < BOARD_SIZE; i++) {
      let row = squares.slice(i * BOARD_SIZE, (i + 1) * BOARD_SIZE);
      if (i % 2 !== 0) {
        row.reverse();
      }
      rows.push(row);
    }
    return rows;
  }, []);

  return (
    <div className="relative bg-green-200 dark:bg-green-900 p-2 rounded-lg shadow-lg aspect-square max-w-xl mx-auto border-4 border-yellow-700">
      <div className="grid grid-cols-10 grid-rows-10 w-full h-full">
        {board.flat().map((number) => {
          const isSnakeStart = !!SNAKES[number];
          const isLadderStart = !!LADDERS[number];
          const isEven = (Math.floor((number-1) / 10) + ((number-1)%10)) % 2 === 0;

          return (
            <div
              key={number}
              className={cn(
                "w-full h-full relative border border-black/10 flex items-center justify-center",
                isEven ? "bg-yellow-100 dark:bg-yellow-800" : "bg-yellow-200 dark:bg-yellow-700"
              )}
            >
              <span className="text-xs font-bold text-gray-500 dark:text-gray-400">{number}</span>
              {isSnakeStart && <div className="absolute text-2xl">🐍</div>}
              {isLadderStart && <div className="absolute text-2xl">🪜</div>}
            </div>
          );
        })}
      </div>
      {players.map(player => {
        const row = BOARD_SIZE - 1 - Math.floor((player.position - 1) / BOARD_SIZE);
        let col = (player.position - 1) % BOARD_SIZE;
        if(row % 2 !== (BOARD_SIZE -1) % 2) {
            col = BOARD_SIZE - 1 - col;
        }

        const playersOnSquare = players.filter(p => p.position === player.position);
        const playerIndexOnSquare = playersOnSquare.findIndex(p => p.id === player.id);

        return (
            <div 
                key={player.id} 
                className="absolute w-[10%] h-[10%] p-1 transition-all duration-500 ease-in-out"
                style={{
                    top: `${row * 10}%`,
                    left: `${col * 10}%`,
                    transform: `translate(${playerIndexOnSquare * 20 - (playersOnSquare.length-1)*10}%, ${playerIndexOnSquare * 20 - (playersOnSquare.length-1)*10}%)`
                }}
            >
                <PlayerPiece color={player.color} isAI={player.isAI}/>
            </div>
        )
      })}
    </div>
  );
};

interface Player {
    id: number;
    name: string;
    position: number;
    color: string;
    isAI: boolean;
}


export function SnakesAndLaddersUI() {
    const [players, setPlayers] = useState<Player[]>([]);
    const [activePlayerIndex, setActivePlayerIndex] = useState(0);
    const [diceValue, setDiceValue] = useState<number>(0);
    const [isRolling, setIsRolling] = useState(false);
    const [winner, setWinner] = useState<Player | null>(null);
    const [status, setStatus] = useState("Player 1's turn to roll!");
    
    const initGame = useCallback(() => {
        setPlayers([
            { id: 1, name: 'Player 1', position: 1, color: 'bg-red-500', isAI: false },
            { id: 2, name: 'AI', position: 1, color: 'bg-blue-500', isAI: true },
        ]);
        setActivePlayerIndex(0);
        setDiceValue(0);
        setWinner(null);
        setStatus("Player 1's turn to roll!");
    }, []);

    useEffect(() => {
        initGame();
    }, [initGame]);

    const activePlayer = players[activePlayerIndex];

    const rollDice = () => {
        if (activePlayer?.isAI || isRolling || winner) return;
        
        setIsRolling(true);
        setTimeout(() => {
            const roll = Math.floor(Math.random() * 6) + 1;
            setDiceValue(roll);
            setIsRolling(false);
            movePlayer(roll);
        }, 500);
    };

    const movePlayer = useCallback((roll: number) => {
        if (!activePlayer) return;

        let newPosition = activePlayer.position + roll;
        if (newPosition > TOTAL_SQUARES) {
            newPosition = activePlayer.position; // Can't move past 100
        }

        setTimeout(() => {
            setPlayers(prev => prev.map(p => p.id === activePlayer.id ? { ...p, position: newPosition } : p));
            
            // Check for snakes or ladders
            if (SNAKES[newPosition]) {
                setStatus(`${activePlayer.name} stepped on a snake! 🐍`);
                newPosition = SNAKES[newPosition];
            } else if (LADDERS[newPosition]) {
                setStatus(`${activePlayer.name} found a ladder! 🪜`);
                newPosition = LADDERS[newPosition];
            }

            setTimeout(() => {
                 setPlayers(prev => prev.map(p => p.id === activePlayer.id ? { ...p, position: newPosition } : p));
                 if (newPosition === TOTAL_SQUARES) {
                     setWinner(activePlayer);
                     setStatus(`${activePlayer.name} wins! 🎉`);
                 } else {
                     nextTurn(roll);
                 }
            }, 1000);
        }, 500);

    }, [activePlayer]);

    const nextTurn = (roll: number) => {
        if (roll !== 6) {
            setActivePlayerIndex(prev => (prev + 1) % players.length);
        } else {
            setStatus(`${activePlayer.name} rolled a 6 and gets another turn!`);
        }
        setDiceValue(0);
    };
    
    useEffect(() => {
        const currentPlayer = players[activePlayerIndex];
        if(currentPlayer?.isAI && !winner && !isRolling) {
            setStatus("AI is thinking...");
            setTimeout(() => {
                const roll = Math.floor(Math.random() * 6) + 1;
                setDiceValue(roll);
                movePlayer(roll);
            }, 1500);
        } else if(currentPlayer) {
            setStatus(`${currentPlayer.name}'s turn to roll!`);
        }
    }, [activePlayerIndex, players, winner, isRolling, movePlayer]);

    if(players.length === 0) return <div>Loading...</div>;

  return (
    <Card className="shadow-2xl bg-stone-100 dark:bg-gray-900">
      <CardContent className="p-2 md:p-6 flex flex-col lg:flex-row gap-6 items-center justify-center">
        <div className="flex-shrink-0 w-full lg:w-64 space-y-4 text-center order-2 lg:order-1">
          <Card className="bg-white/80 dark:bg-gray-800/80">
            <CardContent className="p-4">
              <h3 className="text-xl font-bold mb-2">Game Status</h3>
              <p className="text-lg font-semibold capitalize">{status}</p>
            </CardContent>
          </Card>

          <Card className="bg-white/80 dark:bg-gray-800/80">
            <CardContent className="p-4 flex flex-col items-center gap-4">
              <h3 className="text-xl font-bold">Dice</h3>
                <Button onClick={rollDice} disabled={isRolling || activePlayer?.isAI || winner} size="lg" className="w-24 h-24 text-6xl font-bold text-white shadow-lg bg-red-600 hover:bg-red-700">
                    {isRolling ? <Dices className="animate-spin"/> : diceValue || <Dices />}
                </Button>
               <p className="text-sm text-muted-foreground">Turn: <span className="font-bold text-lg capitalize">{activePlayer.name}</span></p>
            </CardContent>
          </Card>

          <Button onClick={initGame} variant="secondary" className="w-full">
            <RotateCcw className="mr-2" /> New Game
          </Button>
        </div>

        <div className="order-1 lg:order-2 w-full max-w-xl">
            <GameBoard players={players} />
        </div>
        
        <Dialog open={!!winner} onOpenChange={(isOpen) => !isOpen && setWinner(null)}>
            <DialogContent>
                <DialogHeader>
                    <DialogTitle className="flex items-center justify-center">
                        <Award className="w-12 h-12 text-yellow-500 mr-4" />
                        Game Over!
                    </DialogTitle>
                    <DialogDescription className="text-xl text-center py-4 capitalize">
                        <span className="font-bold">{winner?.name}</span> wins the game!
                    </DialogDescription>
                </DialogHeader>
                <DialogFooter>
                    <Button onClick={initGame} className="w-full">Play Again</Button>
                </DialogFooter>
            </DialogContent>
        </Dialog>
      </CardContent>
    </Card>
  );
}


==================================================
File: src/app/games/sudoku/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { SudokuUI } from "./sudoku-ui";
import { Suspense } from "react";

export default function SudokuPage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-xl text-center">
        <PageHeader
          title="Sudoku"
          description="Fill the grid so that every row, column, and 3x3 box contains the digits 1 through 9."
        />
        <div className="mt-8">
            <Suspense fallback={<div>Loading Game...</div>}>
                <SudokuUI />
            </Suspense>
        </div>
      </div>
    </div>
  );
}


==================================================
File: src/app/games/sudoku/sudoku-ui.tsx
==================================================

"use client";

import { useState, useEffect, useCallback } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Label } from '@/components/ui/label';
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from '@/components/ui/dialog';
import { cn } from '@/lib/utils';
import { RotateCcw, Lightbulb, CheckCircle, BrainCircuit, Award } from 'lucide-react';

// --- Sudoku Logic ---
const generatePuzzle = (difficulty: 'easy' | 'medium' | 'hard' | 'expert' = 'medium') => {
    let board = Array.from({ length: 9 }, () => Array(9).fill(0));
    
    // Fill the diagonal 3x3 boxes
    const fillDiagonal = () => {
        for (let i = 0; i < 9; i = i + 3) {
            fillBox(i, i);
        }
    };

    const fillBox = (row: number, col: number) => {
        let num;
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                do {
                    num = Math.floor(Math.random() * 9) + 1;
                } while (!isSafeInBox(board, row, col, num));
                board[row + i][col + j] = num;
            }
        }
    };

    const isSafeInBox = (board: number[][], row: number, col: number, num: number) => {
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                if (board[row + i][col + j] === num) {
                    return false;
                }
            }
        }
        return true;
    };
    
    const solve = (b: number[][]): boolean => {
        const find = findEmpty(b);
        if (!find) return true;
        
        let [row, col] = find;
        const nums = shuffle([1, 2, 3, 4, 5, 6, 7, 8, 9]);
        
        for (let num of nums) {
            if (isSafe(b, row, col, num)) {
                b[row][col] = num;
                if (solve(b)) return true;
                b[row][col] = 0;
            }
        }
        return false;
    };
    
    fillDiagonal();
    solve(board);

    const puzzle = board.map(row => [...row]);
    
    // Remove numbers to create puzzle
    let attempts = 5;
    if(difficulty === 'easy') attempts = 40;
    if(difficulty === 'medium') attempts = 50;
    if(difficulty === 'hard') attempts = 55;
    if(difficulty === 'expert') attempts = 60;
    
    let removed = 0;
    while (removed < attempts && removed < 64) {
        let row = Math.floor(Math.random() * 9);
        let col = Math.floor(Math.random() * 9);
        if (puzzle[row][col] !== 0) {
            let temp = puzzle[row][col];
            puzzle[row][col] = 0;
            
            // Make sure puzzle still has a unique solution
            let tempPuzzle = puzzle.map(r => [...r]);
            if (countSolutions(tempPuzzle) !== 1) {
                puzzle[row][col] = temp;
            } else {
                removed++;
            }
        }
    }
    
    return { puzzle, solution: board };
};

const countSolutions = (board: number[][]): number => {
    let count = 0;
    const find = findEmpty(board);
    if (!find) return 1;

    let [row, col] = find;
    for (let num = 1; num <= 9; num++) {
        if (isSafe(board, row, col, num)) {
            board[row][col] = num;
            count += countSolutions(board);
            board[row][col] = 0; // backtrack
            if (count > 1) return count; // optimization
        }
    }
    return count;
}


const findEmpty = (board: number[][]): [number, number] | null => {
    for (let i = 0; i < 9; i++) {
        for (let j = 0; j < 9; j++) {
            if (board[i][j] === 0) return [i, j];
        }
    }
    return null;
};

const isSafe = (board: number[][], row: number, col: number, num: number) => {
    // Check row
    for (let x = 0; x < 9; x++) if (board[row][x] === num) return false;
    // Check col
    for (let x = 0; x < 9; x++) if (board[x][col] === num) return false;
    // Check 3x3 box
    const startRow = row - (row % 3);
    const startCol = col - (col % 3);
    for (let i = 0; i < 3; i++) for (let j = 0; j < 3; j++) if (board[i + startRow][j + startCol] === num) return false;
    return true;
};

const shuffle = (array: any[]) => {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
};

// --- Sudoku UI Component ---
export function SudokuUI() {
  const [board, setBoard] = useState<number[][]>([]);
  const [initialBoard, setInitialBoard] = useState<number[][]>([]);
  const [solution, setSolution] = useState<number[][]>([]);
  const [selectedCell, setSelectedCell] = useState<{ row: number; col: number } | null>(null);
  const [difficulty, setDifficulty] = useState<'easy' | 'medium' | 'hard' | 'expert'>('medium');
  const [isFinished, setIsFinished] = useState(false);
  const [statusMessage, setStatusMessage] = useState("");

  const newGame = useCallback((diff: 'easy' | 'medium' | 'hard' | 'expert') => {
    const { puzzle, solution } = generatePuzzle(diff);
    setBoard(puzzle.map(row => [...row]));
    setInitialBoard(puzzle.map(row => [...row]));
    setSolution(solution);
    setSelectedCell(null);
    setIsFinished(false);
    setStatusMessage("New game started. Good luck!");
  }, []);

  useEffect(() => {
    newGame(difficulty);
  }, [newGame, difficulty]);

  const handleCellClick = (row: number, col: number) => {
    if (initialBoard[row][col] === 0) {
      setSelectedCell({ row, col });
    }
  };

  const handleNumberInput = (num: number) => {
    if (selectedCell) {
      const { row, col } = selectedCell;
      const newBoard = board.map(r => [...r]);
      newBoard[row][col] = num;
      setBoard(newBoard);
    }
  };

  const handleErase = () => {
    if (selectedCell) {
        const { row, col } = selectedCell;
        const newBoard = board.map(r => [...r]);
        newBoard[row][col] = 0;
        setBoard(newBoard);
    }
  };

  const checkSolution = () => {
    for (let i = 0; i < 9; i++) {
        for (let j = 0; j < 9; j++) {
            if (board[i][j] === 0 || board[i][j] !== solution[i][j]) {
                setStatusMessage("Something is not quite right. Keep trying!");
                return;
            }
        }
    }
    setStatusMessage("Congratulations! You've solved the puzzle!");
    setIsFinished(true);
  };
  
  const showHint = () => {
      if(selectedCell){
          const {row, col} = selectedCell;
          const newBoard = board.map(r => [...r]);
          newBoard[row][col] = solution[row][col];
          setBoard(newBoard);
          setStatusMessage(`Hint applied for cell (${row + 1}, ${col + 1}).`);
      } else {
          setStatusMessage("Select a cell to get a hint.");
      }
  }

  const solvePuzzle = () => {
      setBoard(solution);
      setStatusMessage("Puzzle solved! Try another one.");
      setIsFinished(true);
  }
  
  const getRelatedCells = (row: number, col: number) => {
      const related = new Set<string>();
      // Row and column
      for (let i = 0; i < 9; i++) {
          related.add(`${row}-${i}`);
          related.add(`${i}-${col}`);
      }
      // 3x3 Box
      const startRow = row - row % 3;
      const startCol = col - col % 3;
      for (let i = 0; i < 3; i++) {
          for (let j = 0; j < 3; j++) {
              related.add(`${startRow + i}-${startCol + j}`);
          }
      }
      return related;
  };

  const selectedNumber = selectedCell ? board[selectedCell.row][selectedCell.col] : 0;
  const relatedCells = selectedCell ? getRelatedCells(selectedCell.row, selectedCell.col) : new Set();

  return (
    <Card className="shadow-2xl">
      <CardHeader>
        <div className="flex justify-between items-center">
            <CardTitle>Sudoku</CardTitle>
            <div className="flex items-center gap-2">
                <Label htmlFor="difficulty" className="whitespace-nowrap">Difficulty:</Label>
                <Select value={difficulty} onValueChange={(val) => setDifficulty(val as any)}>
                    <SelectTrigger id="difficulty" className="w-[120px]">
                        <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                        <SelectItem value="easy">Easy</SelectItem>
                        <SelectItem value="medium">Medium</SelectItem>
                        <SelectItem value="hard">Hard</SelectItem>
                        <SelectItem value="expert">Expert</SelectItem>
                    </SelectContent>
                </Select>
            </div>
        </div>
      </CardHeader>
      <CardContent className="p-2 md:p-6 space-y-4">
        <div className="grid grid-cols-9 w-full max-w-lg mx-auto border-2 border-gray-700 aspect-square">
          {board.map((row, rowIndex) =>
            row.map((cell, colIndex) => {
              const isInitial = initialBoard[rowIndex][colIndex] !== 0;
              const isSelected = selectedCell?.row === rowIndex && selectedCell?.col === colIndex;
              const isRelated = relatedCells.has(`${rowIndex}-${colIndex}`);
              const isSameNumber = cell !== 0 && cell === selectedNumber;
              const isError = cell !== 0 && !isSafe(board, rowIndex, colIndex, cell);
              
              return (
                <div
                  key={`${rowIndex}-${colIndex}`}
                  onClick={() => handleCellClick(rowIndex, colIndex)}
                  className={cn(
                    "w-full h-full flex items-center justify-center text-2xl font-bold border border-gray-300 dark:border-gray-600 transition-colors",
                    isInitial ? "text-gray-900 dark:text-gray-200" : "text-blue-600 dark:text-blue-400 cursor-pointer",
                    isRelated && !isSelected && "bg-gray-200 dark:bg-gray-700",
                    isSameNumber && !isSelected && "bg-blue-200 dark:bg-blue-800/50",
                    isSelected && "bg-blue-300 dark:bg-blue-700 ring-2 ring-blue-500 z-10",
                    (colIndex % 3 === 2 && colIndex !== 8) && "border-r-2 border-r-gray-700",
                    (rowIndex % 3 === 2 && rowIndex !== 8) && "border-b-2 border-b-gray-700",
                    isError && !isInitial && "text-red-500"
                  )}
                >
                  {cell !== 0 && cell}
                </div>
              )
            })
          )}
        </div>

        <div className="text-center font-semibold text-muted-foreground min-h-[24px]">
            {statusMessage}
        </div>

        <div className="flex justify-center gap-2">
          {Array.from({ length: 9 }, (_, i) => i + 1).map((num) => (
            <Button key={num} onClick={() => handleNumberInput(num)} variant="outline" size="icon" className="text-xl">
              {num}
            </Button>
          ))}
          <Button onClick={handleErase} variant="destructive" size="icon">
            Erase
          </Button>
        </div>
        
        <div className="flex flex-wrap gap-2 justify-center pt-4 border-t">
            <Button onClick={() => newGame(difficulty)}><RotateCcw className="mr-2" />New Game</Button>
            <Button onClick={showHint} variant="secondary" disabled={!selectedCell || initialBoard[selectedCell.row][selectedCell.col] !== 0}><Lightbulb className="mr-2" />Hint</Button>
            <Button onClick={checkSolution} variant="secondary"><CheckCircle className="mr-2" />Check</Button>
            <Button onClick={solvePuzzle} variant="secondary"><BrainCircuit className="mr-2" />Solve</Button>
        </div>
      </CardContent>

      <Dialog open={isFinished} onOpenChange={(isOpen) => !isOpen && setIsFinished(false)}>
        <DialogContent>
            <DialogHeader>
                <DialogTitle className="flex items-center justify-center text-center">
                   <Award className="w-12 h-12 text-yellow-500 mr-4" />
                   Puzzle Solved!
                </DialogTitle>
                <DialogDescription className="text-xl text-center py-4">
                    Congratulations, you are a Sudoku master!
                </DialogDescription>
            </DialogHeader>
            <DialogFooter>
                <Button onClick={() => newGame(difficulty)} className="w-full">Play Again</Button>
            </DialogFooter>
        </DialogContent>
      </Dialog>
    </Card>
  );
}


==================================================
File: src/app/games/tic-tac-toe/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { TicTacToeUI } from "./tic-tac-toe-ui";

export default function TicTacToePage() {
  return (
    <div className="flex flex-col h-full items-center justify-center">
      <div className="w-full max-w-md text-center">
        <PageHeader
          title="Tic-Tac-Toe"
          description="Try to get three in a row to win!"
        />
        <div className="mt-8">
          <TicTacToeUI />
        </div>
      </div>
    </div>
  );
}

==================================================
File: src/app/games/tic-tac-toe/tic-tac-toe-ui.tsx
==================================================

"use client";

import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { cn } from '@/lib/utils';
import { Award, RotateCcw, X, Circle } from 'lucide-react';

type Player = 'X' | 'O';
type Square = Player | null;

const calculateWinner = (squares: Square[]): Player | null => {
  const lines = [
    [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
    [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
    [0, 4, 8], [2, 4, 6]             // diagonals
  ];
  for (let i = 0; i < lines.length; i++) {
    const [a, b, c] = lines[i];
    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
      return squares[a];
    }
  }
  return null;
};

const SquareComponent = ({ value, onClick }: { value: Square, onClick: () => void }) => (
  <Button
    variant="outline"
    className="h-24 w-24 rounded-lg flex items-center justify-center text-6xl font-bold"
    onClick={onClick}
    aria-label={`Square ${value || 'empty'}`}
  >
    {value === 'X' && <X className="h-16 w-16 text-red-500" />}
    {value === 'O' && <Circle className="h-14 w-14 text-blue-500" />}
  </Button>
);

export function TicTacToeUI() {
  const [squares, setSquares] = useState<Square[]>(Array(9).fill(null));
  const [xIsNext, setXIsNext] = useState(true);
  const [winner, setWinner] = useState<Player | null>(null);
  const [isDraw, setIsDraw] = useState(false);

  useEffect(() => {
    const calculatedWinner = calculateWinner(squares);
    if (calculatedWinner) {
      setWinner(calculatedWinner);
    } else if (squares.every(Boolean)) {
      setIsDraw(true);
    }
  }, [squares]);

  const handleClick = (i: number) => {
    if (winner || squares[i]) {
      return;
    }
    const newSquares = squares.slice();
    newSquares[i] = xIsNext ? 'X' : 'O';
    setSquares(newSquares);
    setXIsNext(!xIsNext);
  };

  const resetGame = () => {
    setSquares(Array(9).fill(null));
    setXIsNext(true);
    setWinner(null);
    setIsDraw(false);
  };

  let status;
  if (winner) {
    status = (
      <div className="flex items-center justify-center text-2xl font-bold text-primary">
        <Award className="mr-2 h-8 w-8" />
        Winner: {winner}
      </div>
    );
  } else if (isDraw) {
    status = <div className="text-2xl font-bold text-muted-foreground">It's a Draw!</div>;
  } else {
    status = `Next player: ${xIsNext ? 'X' : 'O'}`;
  }

  return (
    <Card className="shadow-2xl">
      <CardContent className="p-6 space-y-6">
        <div className="text-xl font-semibold text-center mb-4">{status}</div>
        <div className="grid grid-cols-3 gap-2">
          {squares.map((square, i) => (
            <SquareComponent key={i} value={square} onClick={() => handleClick(i)} />
          ))}
        </div>
        <Button onClick={resetGame} className="w-full">
          <RotateCcw className="mr-2 h-4 w-4" />
          New Game
        </Button>
      </CardContent>
    </Card>
  );
}

==================================================
File: src/app/globals.css
==================================================

@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: 'PT Sans', sans-serif;
  background-image: url('https://images.unsplash.com/photo-1557683316-973673baf926?q=80&w=2070&auto=format&fit=crop');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

@layer base {
  :root {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9% / 0.15;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 197 71% 52%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 30 100% 50%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 197 71% 52%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 240 10% 3.9% / 0.15;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 197 71% 52%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 197 71% 52%;
  }
  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9% / 0.15;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 197 71% 52%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 30 100% 50%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 197 71% 52%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 10% 3.9% / 0.15;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 197 71% 52%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 197 71% 52%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-glass {
    @apply bg-card/80 backdrop-blur-sm border border-white/10;
  }
  .dark .bg-glass {
    @apply bg-card/60;
  }
}


==================================================
File: src/app/instagram-downloader/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { DownloaderUI } from "../youtube-downloader/downloader-ui"; // Re-using the same UI component
import { Suspense } from "react";

export default function InstagramDownloaderPage() {
  return (
    <div>
      <PageHeader
        title="Instagram Video Downloader"
        description="Paste an Instagram video or reel URL to start."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
            <DownloaderUI service="instagram" />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/layout.tsx
==================================================

import type { Metadata } from "next";
import { AppShell } from "@/components/app-shell";
import { Toaster } from "@/components/ui/toaster";
import "./globals.css";

export const metadata: Metadata = {
  title: "All-in-One Toolkit",
  description: "A collection of useful tools for everyday tasks.",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" suppressHydrationWarning>
      <head>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossOrigin="anonymous" />
        <link
          href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"
          rel="stylesheet"
        />
      </head>
      <body className="font-body antialiased">
        <AppShell>{children}</AppShell>
        <Toaster />
      </body>
    </html>
  );
}


==================================================
File: src/app/logo-generator/actions.ts
==================================================

"use server";

import { generateLogo, type GenerateLogoInput } from "@/ai/flows/generate-logo";
import { z } from "zod";

const FormSchema = z.object({
  prompt: z.string().min(3, "Prompt must be at least 3 characters long."),
});

type GenerateResult = {
  success: boolean;
  data?: string;
  error?: string;
};

export async function handleLogoGeneration(
  input: GenerateLogoInput
): Promise<GenerateResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    return { success: false, error: "Invalid input provided." };
  }

  try {
    const { logoDataUri } = await generateLogo(parsed.data);
    return { success: true, data: logoDataUri };
  } catch (e) {
    console.error(e);
    const errorMessage =
      e instanceof Error ? e.message : "An unknown error occurred during logo generation.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/logo-generator/logo-generator-ui.tsx
==================================================

"use client";

import { useState, useTransition } from "react";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useToast } from "@/hooks/use-toast";
import { handleLogoGeneration } from "./actions";
import { Download, Loader2, Wand2 } from "lucide-react";
import { Skeleton } from "@/components/ui/skeleton";
import { Textarea } from "@/components/ui/textarea";

export function LogoGeneratorUI() {
  const [prompt, setPrompt] = useState("");
  const [generatedLogos, setGeneratedLogos] = useState<string[]>([]);
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();

  const onGenerate = () => {
    if (!prompt) {
      toast({
        variant: "destructive",
        title: "No Prompt",
        description: "Please enter a prompt to generate a logo.",
      });
      return;
    }

    startTransition(async () => {
      setGeneratedLogos([]);
      // Generate 4 logos in parallel
      const promises = Array(4).fill(null).map(() => handleLogoGeneration({ prompt }));
      const results = await Promise.all(promises);
      
      const successfulCreations = results
        .filter(r => r.success && r.data)
        .map(r => r.data!);

      if (successfulCreations.length > 0) {
        setGeneratedLogos(successfulCreations);
      } else {
        toast({
          variant: "destructive",
          title: "Generation Failed",
          description: results[0]?.error || "An unknown error occurred.",
        });
      }
    });
  };

  const downloadImage = (dataUri: string) => {
    const link = document.createElement("a");
    link.href = dataUri;
    link.download = "generated-logo.png";
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  };

  return (
    <div className="space-y-8">
      <Card>
        <CardHeader>
            <CardTitle>Logo Description</CardTitle>
            <CardDescription>Describe your brand or idea, and the AI will generate logo concepts for you.</CardDescription>
        </CardHeader>
        <CardContent className="flex flex-col md:flex-row items-end gap-4">
          <div className="w-full space-y-2">
            <Label htmlFor="prompt">Prompt</Label>
            <Textarea
              id="prompt"
              placeholder="e.g., 'A coffee shop named \"The Daily Grind\" with a minimalist mountain logo' or 'A tech startup called \"Innovate AI\" with a brain and circuit icon'"
              value={prompt}
              onChange={(e) => setPrompt(e.target.value)}
              disabled={isPending}
              className="min-h-[100px]"
            />
          </div>
          <Button
            onClick={onGenerate}
            disabled={isPending || !prompt}
            className="w-full md:w-auto"
          >
            {isPending ? (
              <>
                <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                Generating...
              </>
            ) : (
              <>
                <Wand2 className="mr-2 h-4 w-4" />
                Generate Logos
              </>
            )}
          </Button>
        </CardContent>
      </Card>

      {(isPending || generatedLogos.length > 0) && (
        <Card>
            <CardHeader>
                <CardTitle>Generated Logos</CardTitle>
                <CardDescription>Click on a logo to download it.</CardDescription>
            </CardHeader>
            <CardContent>
                <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
                    {isPending && generatedLogos.length === 0 && (
                        Array(4).fill(null).map((_, i) => <Skeleton key={i} className="w-full aspect-square rounded-lg" />)
                    )}
                    {generatedLogos.map((logo, index) => (
                        <div key={index} className="relative group cursor-pointer" onClick={() => downloadImage(logo)}>
                            <Image
                                src={logo}
                                alt={`Generated Logo ${index + 1}`}
                                width={250}
                                height={250}
                                className="w-full h-auto object-contain rounded-lg border bg-white"
                            />
                            <div className="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <Download className="h-8 w-8 text-white" />
                            </div>
                        </div>
                    ))}
                </div>
            </CardContent>
        </Card>
      )}
    </div>
  );
}


==================================================
File: src/app/logo-generator/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { LogoGeneratorUI } from "./logo-generator-ui";
import { Suspense } from "react";

export default function LogoGeneratorPage() {
  return (
    <div>
      <PageHeader
        title="AI Logo Generator"
        description="Describe the logo you want to create and let AI do the rest."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
          <LogoGeneratorUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/math-solver/actions.ts
==================================================

"use server";

import { solveMathProblem, type SolveMathProblemInput } from "@/ai/flows/solve-math-problems";
import { z } from "zod";

const FormSchema = z.object({
  problem: z.string(),
});

type SolverResult = {
  success: boolean;
  data?: string;
  error?: string;
};

export async function handleMathProblem(
  input: SolveMathProblemInput
): Promise<SolverResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    return { success: false, error: "Invalid input." };
  }

  try {
    const { solution } = await solveMathProblem(parsed.data);
    return { success: true, data: solution };
  } catch (e) {
    console.error(e);
    const errorMessage = e instanceof Error ? e.message : "An unknown error occurred.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/math-solver/math-solver-ui.tsx
==================================================

"use client";

import { useForm, SubmitHandler } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import * as z from "zod";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import {
  Form,
  FormControl,
  FormField,
  FormItem,
  FormMessage,
} from "@/components/ui/form";
import { Input } from "@/components/ui/input";
import { handleMathProblem } from "./actions";
import { useState, useTransition } from "react";
import { useToast } from "@/hooks/use-toast";
import { Loader2 } from "lucide-react";

const FormSchema = z.object({
  problem: z.string().min(3, "Please enter a valid math problem."),
});

type FormValues = z.infer<typeof FormSchema>;

export function MathSolverUI() {
  const [solution, setSolution] = useState("");
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();

  const form = useForm<FormValues>({
    resolver: zodResolver(FormSchema),
    defaultValues: {
      problem: "",
    },
  });

  const onSubmit: SubmitHandler<FormValues> = (data) => {
    startTransition(async () => {
      setSolution("");
      const result = await handleMathProblem(data);
      if (result.success) {
        setSolution(result.data!);
      } else {
        toast({
          variant: "destructive",
          title: "Solver Failed",
          description: result.error,
        });
      }
    });
  };

  return (
    <div className="max-w-4xl mx-auto space-y-8">
      <Card>
        <Form {...form}>
          <form onSubmit={form.handleSubmit(onSubmit)}>
            <CardHeader>
              <CardTitle>Math Problem</CardTitle>
              <CardDescription>
                Enter an equation or a word problem for the AI to solve.
              </CardDescription>
            </CardHeader>
            <CardContent>
              <FormField
                control={form.control}
                name="problem"
                render={({ field }) => (
                  <FormItem>
                    <FormControl>
                      <Input
                        placeholder='e.g., "Solve for x: 2x + 5 = 15" or "What is 15% of 200?"'
                        {...field}
                      />
                    </FormControl>
                    <FormMessage />
                  </FormItem>
                )}
              />
            </CardContent>
            <CardFooter>
              <Button type="submit" disabled={isPending} className="w-full md:w-auto">
                {isPending ? <Loader2 className="animate-spin" /> : "Solve Problem"}
              </Button>
            </CardFooter>
          </form>
        </Form>
      </Card>

      {(isPending || solution) && (
        <Card className="bg-muted">
          <CardHeader>
            <CardTitle>Solution</CardTitle>
            <CardDescription>
              The AI-powered step-by-step solution.
            </CardDescription>
          </CardHeader>
          <CardContent>
            {isPending && !solution && (
              <div className="flex justify-center items-center h-full">
                <Loader2 className="h-8 w-8 animate-spin text-primary" />
              </div>
            )}
            <div className="prose dark:prose-invert max-w-none">
                <p className="whitespace-pre-wrap">{solution}</p>
            </div>
          </CardContent>
        </Card>
      )}
    </div>
  );
}


==================================================
File: src/app/math-solver/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { MathSolverUI } from "./math-solver-ui";
import { Suspense } from "react";

export default function MathSolverPage() {
  return (
    <div>
      <PageHeader
        title="AI Math Problem Solver"
        description="Enter a math problem and get a step-by-step solution from AI."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
            <MathSolverUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/money-converter/actions.ts
==================================================

"use server";

import { convertCurrency, type ConvertCurrencyInput } from "@/ai/flows/convert-currency";
import { z } from "zod";

const FormSchema = z.object({
  amount: z.coerce.number().positive("Amount must be a positive number."),
  sourceCurrency: z.string().min(1, "Please select a source currency."),
  targetCurrency: z.string().min(1, "Please select a target currency."),
});

type ConversionResult = {
  success: boolean;
  data?: number;
  error?: string;
};

export async function handleCurrencyConversion(
  input: ConvertCurrencyInput
): Promise<ConversionResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    const issues = parsed.error.issues.map(i => i.message).join(' ');
    return { success: false, error: `Invalid input: ${issues}` };
  }

  try {
    const { convertedAmount } = await convertCurrency(parsed.data);
    return { success: true, data: convertedAmount };
  } catch (e) {
    console.error(e);
    const errorMessage =
      e instanceof Error ? e.message : "An unknown error occurred during conversion.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/money-converter/money-converter-ui.tsx
==================================================

"use client";

import { useForm, SubmitHandler } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import * as z from "zod";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import {
  Form,
  FormControl,
  FormField,
  FormItem,
  FormLabel,
  FormMessage,
} from "@/components/ui/form";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Input } from "@/components/ui/input";
import { handleCurrencyConversion } from "./actions";
import { useState, useTransition } from "react";
import { useToast } from "@/hooks/use-toast";
import { ArrowRightLeft, Loader2 } from "lucide-react";

const currencies = [
  "USD", "EUR", "JPY", "GBP", "AUD", "CAD", "CHF", "CNY", "HKD", "NZD", "INR", "BRL", "RUB", "ZAR",
  "MXN", "SGD", "AED", "ARS", "BDT", "BHD", "CLP", "CZK", "DKK", "EGP", "FJD", "HUF", "IDR",
  "ILS", "ISK", "JOD", "KES", "KWD", "LKR", "MAD", "MYR", "NOK", "NPR", "OMR", "PHP", "PKR",
  "PLN", "QAR", "RON", "SAR", "SEK", "THB", "TRY", "TWD", "UAH", "VND",
];

const FormSchema = z.object({
  amount: z.coerce.number().positive({ message: "Please enter an amount greater than 0." }),
  sourceCurrency: z.string().min(1, "Please select a source currency."),
  targetCurrency: z.string().min(1, "Please select a target currency."),
});

type FormValues = z.infer<typeof FormSchema>;

export function MoneyConverterUI() {
  const [convertedAmount, setConvertedAmount] = useState<number | null>(null);
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();

  const form = useForm<FormValues>({
    resolver: zodResolver(FormSchema),
    defaultValues: {
      amount: 1,
      sourceCurrency: "USD",
      targetCurrency: "EUR",
    },
  });

  const onSubmit: SubmitHandler<FormValues> = (data) => {
    startTransition(async () => {
      setConvertedAmount(null);
      const result = await handleCurrencyConversion(data);
      if (result.success) {
        setConvertedAmount(result.data!);
      } else {
        toast({
          variant: "destructive",
          title: "Conversion Failed",
          description: result.error,
        });
      }
    });
  };
  
  const swapCurrencies = () => {
    const source = form.getValues("sourceCurrency");
    const target = form.getValues("targetCurrency");
    form.setValue("sourceCurrency", target);
    form.setValue("targetLanguage", source);
    form.setValue("targetCurrency", source);
  };


  return (
    <Card className="max-w-2xl mx-auto">
        <Form {...form}>
          <form onSubmit={form.handleSubmit(onSubmit)}>
            <CardHeader>
              <CardTitle>Currency Converter</CardTitle>
              <CardDescription>
                Quickly convert between currencies. Rates are for demonstration only.
              </CardDescription>
            </CardHeader>
            <CardContent className="grid grid-cols-1 md:grid-cols-2 gap-4">
               <FormField
                  control={form.control}
                  name="amount"
                  render={({ field }) => (
                    <FormItem className="md:col-span-2">
                        <FormLabel>Amount</FormLabel>
                        <FormControl>
                            <Input type="number" placeholder="1.00" {...field} />
                        </FormControl>
                        <FormMessage />
                    </FormItem>
                  )}
                />
              <FormField
                control={form.control}
                name="sourceCurrency"
                render={({ field }) => (
                  <FormItem>
                    <FormLabel>From</FormLabel>
                    <Select onValueChange={field.onChange} defaultValue={field.value}>
                      <FormControl>
                        <SelectTrigger>
                          <SelectValue placeholder="Select a currency" />
                        </SelectTrigger>
                      </FormControl>
                      <SelectContent>
                        {currencies.map(c => <SelectItem key={c} value={c}>{c}</SelectItem>)}
                      </SelectContent>
                    </Select>
                    <FormMessage />
                  </FormItem>
                )}
              />
              <FormField
                control={form.control}
                name="targetCurrency"
                render={({ field }) => (
                  <FormItem>
                    <FormLabel>To</FormLabel>
                    <Select onValueChange={field.onChange} defaultValue={field.value}>
                      <FormControl>
                        <SelectTrigger>
                          <SelectValue placeholder="Select a currency" />
                        </SelectTrigger>
                      </FormControl>
                      <SelectContent>
                        {currencies.map(c => <SelectItem key={c} value={c}>{c}</SelectItem>)}
                      </SelectContent>
                    </Select>
                    <FormMessage />
                  </FormItem>
                )}
              />
            </CardContent>
            <CardFooter className="flex-col items-start gap-4">
                 <div className="flex items-center gap-4">
                    <Button type="submit" disabled={isPending}>
                        {isPending ? <><Loader2 className="mr-2 h-4 w-4 animate-spin" /> Converting...</> : "Convert"}
                    </Button>
                    <Button type="button" variant="ghost" size="icon" onClick={swapCurrencies}>
                        <ArrowRightLeft className="h-4 w-4" />
                        <span className="sr-only">Swap currencies</span>
                    </Button>
                 </div>
                 {convertedAmount !== null && (
                    <div className="text-2xl font-bold">
                        {form.getValues('amount')} {form.getValues('sourceCurrency')} = {convertedAmount} {form.getValues('targetCurrency')}
                    </div>
                 )}
            </CardFooter>
          </form>
        </Form>
    </Card>
  );
}


==================================================
File: src/app/money-converter/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { MoneyConverterUI } from "./money-converter-ui";
import { Suspense } from "react";

export default function MoneyConverterPage() {
  return (
    <div>
      <PageHeader
        title="Money Converter"
        description="Convert values between different currencies."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
          <MoneyConverterUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/page.tsx
==================================================

import {
  Card,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { tools } from "@/lib/tools";
import Link from "next/link";
import { PageHeader } from "@/components/page-header";

export default function Home() {
  return (
    <div className="container mx-auto py-8 px-4 sm:px-6 lg:px-8">
      <PageHeader
        title="All-in-One Toolkit"
        description="Your one-stop destination for a variety of useful tools."
      />
      <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-8">
        {tools.map((tool) => {
          const Icon = tool.icon;
          return (
            <Link href={tool.href} key={tool.name} className="group">
              <Card className="h-full transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1 hover:border-primary">
                <CardHeader className="flex flex-col items-center justify-center text-center p-6">
                  <div className="p-4 bg-muted rounded-full mb-4">
                    <Icon className="h-10 w-10 text-primary" />
                  </div>
                  <CardTitle className="font-headline text-xl">
                    {tool.name}
                  </CardTitle>
                  <CardDescription>{tool.description}</CardDescription>
                </CardHeader>
              </Card>
            </Link>
          );
        })}
      </div>
    </div>
  );
}


==================================================
File: src/app/photo-editor/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { PhotoEditorUI } from "./photo-editor-ui";

export default function PhotoEditorPage() {
  return (
    <div>
      <PageHeader
        title="Photo Editor"
        description="Apply basic adjustments to your photos. (Filters are for demonstration purposes)"
      />
      <div className="mt-8">
        <PhotoEditorUI />
      </div>
    </div>
  );
}


==================================================
File: src/app/photo-editor/photo-editor-ui.tsx
==================================================

"use client";

import { useState } from "react";
import Image from "next/image";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Slider } from "@/components/ui/slider";
import { Button } from "@/components/ui/button";
import { Upload } from "lucide-react";

export function PhotoEditorUI() {
  const [imageSrc, setImageSrc] = useState<string | null>(null);
  const [filters, setFilters] = useState({
    brightness: 100,
    contrast: 100,
    saturate: 100,
    grayscale: 0,
    sepia: 0,
  });

  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        setImageSrc(e.target?.result as string);
      };
      reader.readAsDataURL(file);
    }
  };
  
  const handleFilterChange = (filterName: keyof typeof filters) => (value: number[]) => {
      setFilters(prev => ({...prev, [filterName]: value[0]}));
  }

  const resetFilters = () => {
    setFilters({
        brightness: 100,
        contrast: 100,
        saturate: 100,
        grayscale: 0,
        sepia: 0,
    })
  }

  const imageStyle = {
    filter: `brightness(${filters.brightness}%) contrast(${filters.contrast}%) saturate(${filters.saturate}%) grayscale(${filters.grayscale}%) sepia(${filters.sepia}%)`
  };

  return (
    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
      <Card className="md:col-span-1">
        <CardContent className="p-6 space-y-6">
            <div>
              <Label htmlFor="picture" className="mb-2 block">Upload Image</Label>
              <Input id="picture" type="file" accept="image/*" onChange={handleImageUpload} />
            </div>
          <div className="space-y-4">
            <div>
                <Label>Brightness ({filters.brightness}%)</Label>
                <Slider value={[filters.brightness]} max={200} step={1} onValueChange={handleFilterChange('brightness')} />
            </div>
            <div>
                <Label>Contrast ({filters.contrast}%)</Label>
                <Slider value={[filters.contrast]} max={200} step={1} onValueChange={handleFilterChange('contrast')} />
            </div>
            <div>
                <Label>Saturation ({filters.saturate}%)</Label>
                <Slider value={[filters.saturate]} max={200} step={1} onValueChange={handleFilterChange('saturate')} />
            </div>
            <div>
                <Label>Grayscale ({filters.grayscale}%)</Label>
                <Slider value={[filters.grayscale]} max={100} step={1} onValueChange={handleFilterChange('grayscale')} />
            </div>
            <div>
                <Label>Sepia ({filters.sepia}%)</Label>
                <Slider value={[filters.sepia]} max={100} step={1} onValueChange={handleFilterChange('sepia')} />
            </div>
          </div>
          <Button onClick={resetFilters} variant="secondary" className="w-full">Reset Filters</Button>
        </CardContent>
      </Card>
      <Card className="md:col-span-2">
        <CardContent className="p-6 flex items-center justify-center h-full min-h-[400px]">
          {imageSrc ? (
            <Image
              src={imageSrc}
              alt="Uploaded for editing"
              width={500}
              height={500}
              className="max-w-full max-h-[60vh] object-contain transition-all"
              style={imageStyle}
            />
          ) : (
            <div className="text-center text-muted-foreground">
                <Upload className="mx-auto h-12 w-12" />
                <p className="mt-2">Upload an image to start editing</p>
            </div>
          )}
        </CardContent>
      </Card>
    </div>
  );
}


==================================================
File: src/app/qr-code-scanner/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { QRCodeScannerUI } from "./qr-code-scanner-ui";
import { Suspense } from "react";

export default function QRCodeScannerPage() {
  return (
    <div>
      <PageHeader
        title="QR Code Scanner"
        description="Scan QR codes using your device's camera."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading Scanner...</div>}>
          <QRCodeScannerUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/qr-code-scanner/qr-code-scanner-ui.tsx
==================================================

"use client";

import { useState, useRef, useEffect } from "react";
import jsQR from "jsqr";
import { Button } from "@/components/ui/button";
import { useToast } from "@/hooks/use-toast";
import { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Camera, CameraOff, Copy, ExternalLink, RefreshCw } from "lucide-react";

export function QRCodeScannerUI() {
  const videoRef = useRef<HTMLVideoElement>(null);
  const canvasRef = useRef<HTMLCanvasElement>(null);
  const [scanResult, setScanResult] = useState<string | null>(null);
  const [hasCameraPermission, setHasCameraPermission] = useState<boolean | null>(null);
  const [isScanning, setIsScanning] = useState(false);
  const { toast } = useToast();

  useEffect(() => {
    const getCameraPermission = async () => {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: { facingMode: "environment" },
        });
        setHasCameraPermission(true);
        if (videoRef.current) {
          videoRef.current.srcObject = stream;
        }
        setIsScanning(true);
      } catch (error) {
        console.error("Error accessing camera:", error);
        setHasCameraPermission(false);
        toast({
          variant: "destructive",
          title: "Camera Access Denied",
          description: "Please enable camera permissions to use the scanner.",
        });
      }
    };

    getCameraPermission();
    
    // Cleanup function to stop video stream
    return () => {
        if(videoRef.current && videoRef.current.srcObject) {
            const stream = videoRef.current.srcObject as MediaStream;
            stream.getTracks().forEach(track => track.stop());
        }
    }
  }, [toast]);

  useEffect(() => {
    let animationFrameId: number;

    const tick = () => {
      if (videoRef.current && videoRef.current.readyState === videoRef.current.HAVE_ENOUGH_DATA && isScanning) {
        const video = videoRef.current;
        const canvas = canvasRef.current;
        if (canvas) {
          const context = canvas.getContext("2d");
          if (context) {
            canvas.height = video.videoHeight;
            canvas.width = video.videoWidth;
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
            const code = jsQR(imageData.data, imageData.width, imageData.height, {
              inversionAttempts: "dontInvert",
            });

            if (code) {
              setScanResult(code.data);
              setIsScanning(false);
              toast({ title: "QR Code Detected!", description: "Scan successful."});
            }
          }
        }
      }
      if (isScanning) {
        animationFrameId = requestAnimationFrame(tick);
      }
    };

    if (isScanning) {
        animationFrameId = requestAnimationFrame(tick);
    }

    return () => {
      cancelAnimationFrame(animationFrameId);
    };
  }, [isScanning, toast]);
  
  const resetScanner = () => {
    setScanResult(null);
    setIsScanning(true);
  }

  const copyToClipboard = () => {
    if(scanResult) {
        navigator.clipboard.writeText(scanResult);
        toast({ title: "Copied to clipboard!"});
    }
  }

  const isUrl = (text: string) => {
    try {
        new URL(text);
        return true;
    } catch (_) {
        return false;
    }
  }


  return (
    <Card className="max-w-2xl mx-auto">
      <CardContent className="p-6">
        <div className="relative w-full aspect-video bg-muted rounded-md overflow-hidden flex items-center justify-center">
            {hasCameraPermission === null && (
                <div className="flex flex-col items-center gap-2 text-muted-foreground">
                    <Camera className="w-12 h-12" />
                    <p>Requesting camera permission...</p>
                </div>
            )}
             {hasCameraPermission === false && (
                <div className="flex flex-col items-center gap-2 text-destructive">
                    <CameraOff className="w-12 h-12" />
                    <p>Camera access denied.</p>
                </div>
            )}
            <video
                ref={videoRef}
                className={hasCameraPermission ? "w-full h-full object-cover" : "hidden"}
                autoPlay
                muted
                playsInline
            />
            {!isScanning && scanResult && (
                <div className="absolute inset-0 bg-black/70 flex items-center justify-center">
                   <div className="text-center text-white p-4">
                        <h3 className="text-2xl font-bold">Scan Complete!</h3>
                   </div>
                </div>
            )}
             {isScanning && hasCameraPermission && (
                <div className="absolute inset-0 border-4 border-primary/50 rounded-md animate-pulse"></div>
            )}
        </div>
         <canvas ref={canvasRef} style={{ display: 'none' }} />

        {hasCameraPermission === false && (
            <Alert variant="destructive" className="mt-4">
              <AlertTitle>Camera Access Required</AlertTitle>
              <AlertDescription>
                Please allow camera access in your browser settings to use this feature.
              </AlertDescription>
            </Alert>
        )}
        
        {scanResult && (
            <div className="mt-6">
                 <Card>
                    <CardHeader>
                        <DialogTitle>Scan Result</DialogTitle>
                        <CardDescription>The content of the QR code is displayed below.</CardDescription>
                    </CardHeader>
                    <CardContent>
                        <p className="p-4 bg-muted rounded-md break-words font-mono text-sm">{scanResult}</p>
                         <div className="flex gap-2 mt-4">
                            <Button onClick={copyToClipboard} variant="outline"><Copy className="mr-2"/>Copy</Button>
                            {isUrl(scanResult) && (
                                <Button asChild>
                                    <a href={scanResult} target="_blank" rel="noopener noreferrer">
                                        <ExternalLink className="mr-2"/>Open Link
                                    </a>
                                </Button>
                            )}
                             <Button onClick={resetScanner}><RefreshCw className="mr-2"/>Scan Again</Button>
                        </div>
                    </CardContent>
                 </Card>
            </div>
        )}
      </CardContent>
    </Card>
  );
}


==================================================
File: src/app/text-generator/actions.ts
==================================================

"use server";

import { generateTextFormats, type GenerateTextFormatsInput } from "@/ai/flows/generate-text-formats";
import { z } from "zod";

const FormSchema = z.object({
  prompt: z.string(),
});

type GenerationResult = {
  success: boolean;
  data?: string;
  error?: string;
};

export async function handleTextGeneration(
  input: GenerateTextFormatsInput
): Promise<GenerationResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    return { success: false, error: "Invalid input." };
  }

  try {
    const { text } = await generateTextFormats(parsed.data);
    return { success: true, data: text };
  } catch (e) {
    console.error(e);
    const errorMessage = e instanceof Error ? e.message : "An unknown error occurred.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/text-generator/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { TextGeneratorUI } from "./text-generator-ui";
import { Suspense } from "react";

export default function TextGeneratorPage() {
  return (
    <div>
      <PageHeader
        title="AI Text Generator"
        description="Generate poems, scripts, emails, and more from a simple prompt."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
            <TextGeneratorUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/text-generator/text-generator-ui.tsx
==================================================

"use client";

import { useForm, SubmitHandler } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import * as z from "zod";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import {
  Form,
  FormControl,
  FormField,
  FormItem,
  FormLabel,
  FormMessage,
} from "@/components/ui/form";
import { Textarea } from "@/components/ui/textarea";
import { handleTextGeneration } from "./actions";
import { useState, useTransition } from "react";
import { useToast } from "@/hooks/use-toast";
import { Loader2 } from "lucide-react";

const FormSchema = z.object({
  prompt: z
    .string()
    .min(10, "Please enter a prompt of at least 10 characters."),
});

type FormValues = z.infer<typeof FormSchema>;

export function TextGeneratorUI() {
  const [generatedText, setGeneratedText] = useState("");
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();

  const form = useForm<FormValues>({
    resolver: zodResolver(FormSchema),
    defaultValues: {
      prompt: "",
    },
  });

  const onSubmit: SubmitHandler<FormValues> = (data) => {
    startTransition(async () => {
        setGeneratedText("");
      const result = await handleTextGeneration(data);
      if (result.success) {
        setGeneratedText(result.data!);
      } else {
        toast({
          variant: "destructive",
          title: "Generation Failed",
          description: result.error,
        });
      }
    });
  };

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
      <Card>
        <Form {...form}>
          <form onSubmit={form.handleSubmit(onSubmit)}>
            <CardHeader>
              <CardTitle>Your Prompt</CardTitle>
              <CardDescription>
                Describe what you want the AI to write. Be as specific as you
                can.
              </CardDescription>
            </CardHeader>
            <CardContent>
              <FormField
                control={form.control}
                name="prompt"
                render={({ field }) => (
                  <FormItem>
                    <FormControl>
                      <Textarea
                        placeholder='e.g., "Write a short, optimistic poem about the sunrise."'
                        className="min-h-[200px] resize-y"
                        {...field}
                      />
                    </FormControl>
                    <FormMessage />
                  </FormItem>
                )}
              />
            </CardContent>
            <CardFooter>
              <Button type="submit" disabled={isPending} className="w-full">
                {isPending ? (
                  <Loader2 className="animate-spin" />
                ) : (
                  "Generate Text"
                )}
              </Button>
            </CardFooter>
          </form>
        </Form>
      </Card>
      <Card className="bg-muted">
        <CardHeader>
          <CardTitle>Generated Text</CardTitle>
          <CardDescription>The AI's response will appear here.</CardDescription>
        </CardHeader>
        <CardContent>
          {isPending && !generatedText && (
            <div className="flex justify-center items-center h-full">
              <Loader2 className="h-8 w-8 animate-spin text-primary" />
            </div>
          )}
          <p className="whitespace-pre-wrap">{generatedText}</p>
        </CardContent>
      </Card>
    </div>
  );
}


==================================================
File: src/app/translator/actions.ts
==================================================

"use server";

import { translateText, type TranslateTextInput } from "@/ai/flows/translate-text";
import { z } from "zod";

const FormSchema = z.object({
  sourceLanguage: z.string(),
  targetLanguage: z.string(),
  text: z.string(),
});

type TranslationResult = {
  success: boolean;
  data?: string;
  error?: string;
};

export async function handleTranslation(
  input: TranslateTextInput
): Promise<TranslationResult> {
  const parsed = FormSchema.safeParse(input);

  if (!parsed.success) {
    return { success: false, error: "Invalid input." };
  }

  try {
    const { translatedText } = await translateText(parsed.data);
    return { success: true, data: translatedText };
  } catch (e) {
    console.error(e);
    const errorMessage = e instanceof Error ? e.message : "An unknown error occurred.";
    return { success: false, error: errorMessage };
  }
}


==================================================
File: src/app/translator/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { TranslatorUI } from "./translator-ui";
import { Suspense } from "react";

export default function TranslatorPage() {
  return (
    <div>
      <PageHeader
        title="Text Translator"
        description="Translate text between a wide variety of languages with the power of AI."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
          <TranslatorUI />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/app/translator/translator-ui.tsx
==================================================

"use client";

import { useForm, SubmitHandler } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import * as z from "zod";
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import {
  Form,
  FormControl,
  FormField,
  FormItem,
  FormLabel,
  FormMessage,
} from "@/components/ui/form";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Textarea } from "@/components/ui/textarea";
import { handleTranslation } from "./actions";
import { useState, useTransition } from "react";
import { useToast } from "@/hooks/use-toast";
import { ArrowRightLeft, Loader2 } from "lucide-react";

const languages = [
  "English", "Spanish", "French", "German", "Mandarin", "Japanese", "Korean", "Russian", "Arabic", "Hindi"
];

const FormSchema = z.object({
  sourceLanguage: z.string().min(1, "Please select a source language."),
  targetLanguage: z.string().min(1, "Please select a target language."),
  text: z.string().min(1, "Please enter text to translate."),
});

type FormValues = z.infer<typeof FormSchema>;

export function TranslatorUI() {
  const [translatedText, setTranslatedText] = useState("");
  const [isPending, startTransition] = useTransition();
  const { toast } = useToast();

  const form = useForm<FormValues>({
    resolver: zodResolver(FormSchema),
    defaultValues: {
      sourceLanguage: "English",
      targetLanguage: "Spanish",
      text: "",
    },
  });

  const onSubmit: SubmitHandler<FormValues> = (data) => {
    startTransition(async () => {
      const result = await handleTranslation(data);
      if (result.success) {
        setTranslatedText(result.data!);
      } else {
        toast({
          variant: "destructive",
          title: "Translation Failed",
          description: result.error,
        });
      }
    });
  };

  const swapLanguages = () => {
    const source = form.getValues("sourceLanguage");
    const target = form.getValues("targetLanguage");
    form.setValue("sourceLanguage", target);
    form.setValue("targetLanguage", source);
  };


  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
            <div className="space-y-4">
                <FormField
                    control={form.control}
                    name="sourceLanguage"
                    render={({ field }) => (
                    <FormItem>
                        <FormLabel>From</FormLabel>
                        <Select onValueChange={field.onChange} defaultValue={field.value}>
                        <FormControl>
                            <SelectTrigger>
                            <SelectValue placeholder="Select a source language" />
                            </SelectTrigger>
                        </FormControl>
                        <SelectContent>
                            {languages.map(lang => <SelectItem key={lang} value={lang}>{lang}</SelectItem>)}
                        </SelectContent>
                        </Select>
                        <FormMessage />
                    </FormItem>
                    )}
                />
                <FormField
                    control={form.control}
                    name="text"
                    render={({ field }) => (
                    <FormItem>
                        <FormControl>
                        <Textarea
                            placeholder="Enter text to translate..."
                            className="min-h-[200px] resize-y"
                            {...field}
                        />
                        </FormControl>
                        <FormMessage />
                    </FormItem>
                    )}
                />
            </div>
            
            <div className="space-y-4">
                <FormField
                    control={form.control}
                    name="targetLanguage"
                    render={({ field }) => (
                    <FormItem>
                        <FormLabel>To</FormLabel>
                        <Select onValueChange={field.onChange} defaultValue={field.value}>
                        <FormControl>
                            <SelectTrigger>
                            <SelectValue placeholder="Select a target language" />
                            </SelectTrigger>
                        </FormControl>
                        <SelectContent>
                            {languages.map(lang => <SelectItem key={lang} value={lang}>{lang}</SelectItem>)}
                        </SelectContent>
                        </Select>
                        <FormMessage />
                    </FormItem>
                    )}
                />
                 <Card className="min-h-[208px] bg-muted">
                    <CardContent className="p-4">
                        <p className="whitespace-pre-wrap">{translatedText || "Translation will appear here."}</p>
                    </CardContent>
                </Card>
            </div>
        </div>
        <div className="flex justify-center items-center gap-4">
            <Button type="submit" disabled={isPending} className="min-w-[150px] bg-accent text-accent-foreground hover:bg-accent/90">
            {isPending ? (
                <Loader2 className="animate-spin" />
            ) : (
                "Translate"
            )}
            </Button>
            <Button type="button" variant="ghost" size="icon" onClick={swapLanguages}>
                <ArrowRightLeft />
                <span className="sr-only">Swap languages</span>
            </Button>
        </div>
      </form>
    </Form>
  );
}


==================================================
File: src/app/youtube-downloader/downloader-ui.tsx
==================================================

"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardFooter, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useToast } from "@/hooks/use-toast";
import { Download, Loader2 } from "lucide-react";

export function DownloaderUI({ service }: { service: string }) {
  const [url, setUrl] = useState("");
  const [isLoading, setIsLoading] = useState(false);
  const { toast } = useToast();

  const handleDownload = () => {
    if (!url) {
      toast({
        variant: "destructive",
        title: "No URL",
        description: `Please enter a ${service} URL.`,
      });
      return;
    }
    
    setIsLoading(true);
    // NOTE: Actual download logic is not implemented due to policy restrictions.
    // This is a placeholder UI.
    setTimeout(() => {
      setIsLoading(false);
      toast({
        title: "Functionality Not Implemented",
        description: `The video download feature for ${service} is for demonstration purposes only.`,
      });
    }, 2000);
  };

  return (
    <Card className="max-w-xl mx-auto">
      <CardHeader>
        <CardTitle className="capitalize">{service} Downloader</CardTitle>
        <CardDescription>Enter the URL of the video you want to download.</CardDescription>
      </CardHeader>
      <CardContent>
        <div className="space-y-2">
          <Label htmlFor="url-input">Video URL</Label>
          <Input 
            id="url-input" 
            placeholder={`https://${service}.com/watch?v=...`}
            value={url}
            onChange={(e) => setUrl(e.target.value)}
            disabled={isLoading}
            />
        </div>
      </CardContent>
      <CardFooter>
        <Button onClick={handleDownload} disabled={isLoading} className="w-full">
          {isLoading ? (
            <>
              <Loader2 className="mr-2 h-4 w-4 animate-spin" />
              Fetching...
            </>
          ) : (
            <>
              <Download className="mr-2 h-4 w-4" />
              Download
            </>
          )}
        </Button>
      </CardFooter>
    </Card>
  );
}


==================================================
File: src/app/youtube-downloader/page.tsx
==================================================

import { PageHeader } from "@/components/page-header";
import { DownloaderUI } from "./downloader-ui";
import { Suspense } from "react";

export default function YouTubeDownloaderPage() {
  return (
    <div>
      <PageHeader
        title="YouTube Video Downloader"
        description="Paste a YouTube video URL to start."
      />
      <div className="mt-8">
        <Suspense fallback={<div>Loading...</div>}>
            <DownloaderUI service="youtube" />
        </Suspense>
      </div>
    </div>
  );
}


==================================================
File: src/components/app-shell.tsx
==================================================

"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import {
  SidebarProvider,
  Sidebar,
  SidebarHeader,
  SidebarTrigger,
  SidebarContent,
  SidebarMenu,
  SidebarMenuItem,
  SidebarMenuButton,
  SidebarFooter,
  SidebarInset,
} from "@/components/ui/sidebar";
import { tools } from "@/lib/tools";
import { Button } from "./ui/button";
import { Bot } from "lucide-react";
import { ThemeToggle } from "./theme-toggle";

export function AppShell({ children }: { children: React.ReactNode }) {
  const pathname = usePathname();

  return (
    <div className="bg-transparent">
      <SidebarProvider>
        <Sidebar>
          <SidebarHeader>
            <div className="flex items-center gap-2">
              <Button variant="ghost" size="icon" asChild>
                <Link href="/">
                  <Bot className="text-primary" />
                </Link>
              </Button>
              <h1 className="text-lg font-headline font-semibold">
                All-in-One Toolkit
              </h1>
            </div>
          </SidebarHeader>
          <SidebarContent>
            <SidebarMenu>
              {tools.map((tool) => {
                if(tool.name === 'Dashboard') return null; // Already in header
                const Icon = tool.icon;
                return (
                  <SidebarMenuItem key={tool.name}>
                    <SidebarMenuButton
                      asChild
                      isActive={pathname === tool.href}
                      tooltip={{
                        children: tool.name,
                      }}
                    >
                      <Link href={tool.href}>
                        <Icon />
                        <span>{tool.name}</span>
                      </Link>
                    </SidebarMenuButton>
                  </SidebarMenuItem>
                );
              })}
            </SidebarMenu>
          </SidebarContent>
          <SidebarFooter>
            <div className="flex items-center justify-center p-2">
              <ThemeToggle />
            </div>
            <p className="text-xs text-muted-foreground p-2 text-center">
              &copy; 2024 All-in-One Toolkit
            </p>
          </SidebarFooter>
        </Sidebar>
        <SidebarInset>
          <div className="flex items-center gap-2 p-2 border-b">
            <SidebarTrigger />
            <h2 className="text-lg font-semibold font-headline text-muted-foreground capitalize">
              {pathname.substring(1).replace("-", " ") || "Dashboard"}
            </h2>
          </div>
          <main className="flex-1 p-4 md:p-6">{children}</main>
        </SidebarInset>
      </SidebarProvider>
    </div>
  );
}


==================================================
File: src/components/page-header.tsx
==================================================

export function PageHeader({
  title,
  description,
}: {
  title: string;
  description: string;
}) {
  return (
    <div className="space-y-2">
      <h1 className="text-3xl font-bold tracking-tight font-headline">{title}</h1>
      <p className="text-muted-foreground">{description}</p>
    </div>
  );
}


==================================================
File: src/components/theme-toggle.tsx
==================================================

"use client"

import * as React from "react"
import { Moon, Sun } from "lucide-react"

import { Button } from "@/components/ui/button"

export function ThemeToggle() {
  const [theme, setThemeState] = React.useState<"theme-light" | "dark">("theme-light")

  React.useEffect(() => {
    const isDarkMode = document.documentElement.classList.contains("dark")
    setThemeState(isDarkMode ? "dark" : "theme-light")
  }, [])

  const setTheme = (theme: "theme-light" | "dark") => {
    setThemeState(theme);
    if (theme === 'dark') {
        document.documentElement.classList.add('dark');
        localStorage.setItem('theme', 'dark');
    } else {
        document.documentElement.classList.remove('dark');
        localStorage.setItem('theme', 'light');
    }
  }

  React.useEffect(() => {
    const storedTheme = localStorage.getItem('theme');
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (storedTheme === 'dark' || (!storedTheme && systemPrefersDark)) {
      setTheme('dark');
    } else {
      setTheme('theme-light');
    }
  }, []);

  return (
    <Button 
      variant="ghost" 
      size="icon" 
      onClick={() => setTheme(theme === "dark" ? "theme-light" : "dark")}
    >
      <Sun className="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
      <Moon className="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
      <span className="sr-only">Toggle theme</span>
    </Button>
  )
}


==================================================
File: src/components/ui/accordion.tsx
==================================================

"use client"

import * as React from "react"
import * as AccordionPrimitive from "@radix-ui/react-accordion"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const Accordion = AccordionPrimitive.Root

const AccordionItem = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
>(({ className, ...props }, ref) => (
  <AccordionPrimitive.Item
    ref={ref}
    className={cn("border-b", className)}
    {...props}
  />
))
AccordionItem.displayName = "AccordionItem"

const AccordionTrigger = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Header className="flex">
    <AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",
        className
      )}
      {...props}
    >
      {children}
      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
    </AccordionPrimitive.Trigger>
  </AccordionPrimitive.Header>
))
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName

const AccordionContent = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  >
    <div className={cn("pb-4 pt-0", className)}>{children}</div>
  </AccordionPrimitive.Content>
))

AccordionContent.displayName = AccordionPrimitive.Content.displayName

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }


==================================================
File: src/components/ui/alert-dialog.tsx
==================================================

"use client"

import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

const AlertDialog = AlertDialogPrimitive.Root

const AlertDialogTrigger = AlertDialogPrimitive.Trigger

const AlertDialogPortal = AlertDialogPrimitive.Portal

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    />
  </AlertDialogPortal>
))
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
AlertDialogHeader.displayName = "AlertDialogHeader"

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
AlertDialogFooter.displayName = "AlertDialogFooter"

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold", className)}
    {...props}
  />
))
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  />
))
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: "outline" }),
      "mt-2 sm:mt-0",
      className
    )}
    {...props}
  />
))
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}


==================================================
File: src/components/ui/alert.tsx
==================================================

import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive:
          "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  />
))
Alert.displayName = "Alert"

const AlertTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h5
    ref={ref}
    className={cn("mb-1 font-medium leading-none tracking-tight", className)}
    {...props}
  />
))
AlertTitle.displayName = "AlertTitle"

const AlertDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm [&_p]:leading-relaxed", className)}
    {...props}
  />
))
AlertDescription.displayName = "AlertDescription"

export { Alert, AlertTitle, AlertDescription }


==================================================
File: src/components/ui/avatar.tsx
==================================================

"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }


==================================================
File: src/components/ui/badge.tsx
==================================================

import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }


==================================================
File: src/components/ui/button.tsx
==================================================

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }


==================================================
File: src/components/ui/calendar.tsx
==================================================

"use client"

import * as React from "react"
import { ChevronLeft, ChevronRight } from "lucide-react"
import { DayPicker } from "react-day-picker"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

export type CalendarProps = React.ComponentProps<typeof DayPicker>

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  ...props
}: CalendarProps) {
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn("p-3", className)}
      classNames={{
        months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
        month: "space-y-4",
        caption: "flex justify-center pt-1 relative items-center",
        caption_label: "text-sm font-medium",
        nav: "space-x-1 flex items-center",
        nav_button: cn(
          buttonVariants({ variant: "outline" }),
          "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"
        ),
        nav_button_previous: "absolute left-1",
        nav_button_next: "absolute right-1",
        table: "w-full border-collapse space-y-1",
        head_row: "flex",
        head_cell:
          "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
        row: "flex w-full mt-2",
        cell: "h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
        day: cn(
          buttonVariants({ variant: "ghost" }),
          "h-9 w-9 p-0 font-normal aria-selected:opacity-100"
        ),
        day_range_end: "day-range-end",
        day_selected:
          "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
        day_today: "bg-accent text-accent-foreground",
        day_outside:
          "day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",
        day_disabled: "text-muted-foreground opacity-50",
        day_range_middle:
          "aria-selected:bg-accent aria-selected:text-accent-foreground",
        day_hidden: "invisible",
        ...classNames,
      }}
      components={{
        IconLeft: ({ className, ...props }) => (
          <ChevronLeft className={cn("h-4 w-4", className)} {...props} />
        ),
        IconRight: ({ className, ...props }) => (
          <ChevronRight className={cn("h-4 w-4", className)} {...props} />
        ),
      }}
      {...props}
    />
  )
}
Calendar.displayName = "Calendar"

export { Calendar }


==================================================
File: src/components/ui/card.tsx
==================================================

import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-lg border bg-card text-card-foreground shadow-sm bg-glass",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLHeadingElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h3
    ref={ref}
    className={cn(
      "text-2xl font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <p
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }


==================================================
File: src/components/ui/carousel.tsx
==================================================

"use client"

import * as React from "react"
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react"
import { ArrowLeft, ArrowRight } from "lucide-react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

type CarouselApi = UseEmblaCarouselType[1]
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>
type CarouselOptions = UseCarouselParameters[0]
type CarouselPlugin = UseCarouselParameters[1]

type CarouselProps = {
  opts?: CarouselOptions
  plugins?: CarouselPlugin
  orientation?: "horizontal" | "vertical"
  setApi?: (api: CarouselApi) => void
}

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0]
  api: ReturnType<typeof useEmblaCarousel>[1]
  scrollPrev: () => void
  scrollNext: () => void
  canScrollPrev: boolean
  canScrollNext: boolean
} & CarouselProps

const CarouselContext = React.createContext<CarouselContextProps | null>(null)

function useCarousel() {
  const context = React.useContext(CarouselContext)

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />")
  }

  return context
}

const Carousel = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & CarouselProps
>(
  (
    {
      orientation = "horizontal",
      opts,
      setApi,
      plugins,
      className,
      children,
      ...props
    },
    ref
  ) => {
    const [carouselRef, api] = useEmblaCarousel(
      {
        ...opts,
        axis: orientation === "horizontal" ? "x" : "y",
      },
      plugins
    )
    const [canScrollPrev, setCanScrollPrev] = React.useState(false)
    const [canScrollNext, setCanScrollNext] = React.useState(false)

    const onSelect = React.useCallback((api: CarouselApi) => {
      if (!api) {
        return
      }

      setCanScrollPrev(api.canScrollPrev())
      setCanScrollNext(api.canScrollNext())
    }, [])

    const scrollPrev = React.useCallback(() => {
      api?.scrollPrev()
    }, [api])

    const scrollNext = React.useCallback(() => {
      api?.scrollNext()
    }, [api])

    const handleKeyDown = React.useCallback(
      (event: React.KeyboardEvent<HTMLDivElement>) => {
        if (event.key === "ArrowLeft") {
          event.preventDefault()
          scrollPrev()
        } else if (event.key === "ArrowRight") {
          event.preventDefault()
          scrollNext()
        }
      },
      [scrollPrev, scrollNext]
    )

    React.useEffect(() => {
      if (!api || !setApi) {
        return
      }

      setApi(api)
    }, [api, setApi])

    React.useEffect(() => {
      if (!api) {
        return
      }

      onSelect(api)
      api.on("reInit", onSelect)
      api.on("select", onSelect)

      return () => {
        api?.off("select", onSelect)
      }
    }, [api, onSelect])

    return (
      <CarouselContext.Provider
        value={{
          carouselRef,
          api: api,
          opts,
          orientation:
            orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
          scrollPrev,
          scrollNext,
          canScrollPrev,
          canScrollNext,
        }}
      >
        <div
          ref={ref}
          onKeyDownCapture={handleKeyDown}
          className={cn("relative", className)}
          role="region"
          aria-roledescription="carousel"
          {...props}
        >
          {children}
        </div>
      </CarouselContext.Provider>
    )
  }
)
Carousel.displayName = "Carousel"

const CarouselContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { carouselRef, orientation } = useCarousel()

  return (
    <div ref={carouselRef} className="overflow-hidden">
      <div
        ref={ref}
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className
        )}
        {...props}
      />
    </div>
  )
})
CarouselContent.displayName = "CarouselContent"

const CarouselItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { orientation } = useCarousel()

  return (
    <div
      ref={ref}
      role="group"
      aria-roledescription="slide"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className
      )}
      {...props}
    />
  )
})
CarouselItem.displayName = "CarouselItem"

const CarouselPrevious = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute  h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-left-12 top-1/2 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft className="h-4 w-4" />
      <span className="sr-only">Previous slide</span>
    </Button>
  )
})
CarouselPrevious.displayName = "CarouselPrevious"

const CarouselNext = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollNext, canScrollNext } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-right-12 top-1/2 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight className="h-4 w-4" />
      <span className="sr-only">Next slide</span>
    </Button>
  )
})
CarouselNext.displayName = "CarouselNext"

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
}


==================================================
File: src/components/ui/chart.tsx
==================================================

"use client"

import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    config: ChartConfig
    children: React.ComponentProps<
      typeof RechartsPrimitive.ResponsiveContainer
    >["children"]
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
})
ChartContainer.displayName = "Chart"

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<"div"> & {
      hideLabel?: boolean
      hideIndicator?: boolean
      indicator?: "line" | "dot" | "dashed"
      nameKey?: string
      labelKey?: string
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = "dot",
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref
  ) => {
    const { config } = useChart()

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null
      }

      const [item] = payload
      const key = `${labelKey || item.dataKey || item.name || "value"}`
      const itemConfig = getPayloadConfigFromPayload(config, item, key)
      const value =
        !labelKey && typeof label === "string"
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label

      if (labelFormatter) {
        return (
          <div className={cn("font-medium", labelClassName)}>
            {labelFormatter(value, payload)}
          </div>
        )
      }

      if (!value) {
        return null
      }

      return <div className={cn("font-medium", labelClassName)}>{value}</div>
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ])

    if (!active || !payload?.length) {
      return null
    }

    const nestLabel = payload.length === 1 && indicator !== "dot"

    return (
      <div
        ref={ref}
        className={cn(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          className
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload.map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || "value"}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)
            const indicatorColor = color || item.payload.fill || item.color

            return (
              <div
                key={item.dataKey}
                className={cn(
                  "flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",
                  indicator === "dot" && "items-center"
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            "shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",
                            {
                              "h-2.5 w-2.5": indicator === "dot",
                              "w-1": indicator === "line",
                              "w-0 border-[1.5px] border-dashed bg-transparent":
                                indicator === "dashed",
                              "my-0.5": nestLabel && indicator === "dashed",
                            }
                          )}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center"
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="font-mono font-medium tabular-nums text-foreground">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            )
          })}
        </div>
      </div>
    )
  }
)
ChartTooltipContent.displayName = "ChartTooltip"

const ChartLegend = RechartsPrimitive.Legend

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> &
    Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
      hideIcon?: boolean
      nameKey?: string
    }
>(
  (
    { className, hideIcon = false, payload, verticalAlign = "bottom", nameKey },
    ref
  ) => {
    const { config } = useChart()

    if (!payload?.length) {
      return null
    }

    return (
      <div
        ref={ref}
        className={cn(
          "flex items-center justify-center gap-4",
          verticalAlign === "top" ? "pb-3" : "pt-3",
          className
        )}
      >
        {payload.map((item) => {
          const key = `${nameKey || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)

          return (
            <div
              key={item.value}
              className={cn(
                "flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          )
        })}
      </div>
    )
  }
)
ChartLegendContent.displayName = "ChartLegend"

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}


==================================================
File: src/components/ui/checkbox.tsx
==================================================

"use client"

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { Check } from "lucide-react"

import { cn } from "@/lib/utils"

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn("flex items-center justify-center text-current")}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }


==================================================
File: src/components/ui/collapsible.tsx
==================================================

"use client"

import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"

const Collapsible = CollapsiblePrimitive.Root

const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger

const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent

export { Collapsible, CollapsibleTrigger, CollapsibleContent }


==================================================
File: src/components/ui/dialog.tsx
==================================================

"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}


==================================================
File: src/components/ui/dropdown-menu.tsx
==================================================

"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}


==================================================
File: src/components/ui/form.tsx
==================================================

"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  FormProvider,
  useFormContext,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState, formState } = useFormContext()

  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

const FormItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div ref={ref} className={cn("space-y-2", className)} {...props} />
    </FormItemContext.Provider>
  )
})
FormItem.displayName = "FormItem"

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField()

  return (
    <Label
      ref={ref}
      className={cn(error && "text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
})
FormLabel.displayName = "FormLabel"

const FormControl = React.forwardRef<
  React.ElementRef<typeof Slot>,
  React.ComponentPropsWithoutRef<typeof Slot>
>(({ ...props }, ref) => {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
})
FormControl.displayName = "FormControl"

const FormDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => {
  const { formDescriptionId } = useFormField()

  return (
    <p
      ref={ref}
      id={formDescriptionId}
      className={cn("text-sm text-muted-foreground", className)}
      {...props}
    />
  )
})
FormDescription.displayName = "FormDescription"

const FormMessage = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, children, ...props }, ref) => {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message ?? "") : children

  if (!body) {
    return null
  }

  return (
    <p
      ref={ref}
      id={formMessageId}
      className={cn("text-sm font-medium text-destructive", className)}
      {...props}
    >
      {body}
    </p>
  )
})
FormMessage.displayName = "FormMessage"

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}


==================================================
File: src/components/ui/input.tsx
==================================================

import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }


==================================================
File: src/components/ui/label.tsx
==================================================

"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }


==================================================
File: src/components/ui/menubar.tsx
==================================================

"use client"

import * as React from "react"
import * as MenubarPrimitive from "@radix-ui/react-menubar"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

function MenubarMenu({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {
  return <MenubarPrimitive.Menu {...props} />
}

function MenubarGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Group>) {
  return <MenubarPrimitive.Group {...props} />
}

function MenubarPortal({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {
  return <MenubarPrimitive.Portal {...props} />
}

function MenubarRadioGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {
  return <MenubarPrimitive.RadioGroup {...props} />
}

function MenubarSub({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {
  return <MenubarPrimitive.Sub data-slot="menubar-sub" {...props} />
}

const Menubar = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Root
    ref={ref}
    className={cn(
      "flex h-10 items-center space-x-1 rounded-md border bg-background p-1",
      className
    )}
    {...props}
  />
))
Menubar.displayName = MenubarPrimitive.Root.displayName

const MenubarTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      className
    )}
    {...props}
  />
))
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName

const MenubarSubTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </MenubarPrimitive.SubTrigger>
))
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName

const MenubarSubContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName

const MenubarContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
>(
  (
    { className, align = "start", alignOffset = -4, sideOffset = 8, ...props },
    ref
  ) => (
    <MenubarPrimitive.Portal>
      <MenubarPrimitive.Content
        ref={ref}
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
          className
        )}
        {...props}
      />
    </MenubarPrimitive.Portal>
  )
)
MenubarContent.displayName = MenubarPrimitive.Content.displayName

const MenubarItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarItem.displayName = MenubarPrimitive.Item.displayName

const MenubarCheckboxItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.CheckboxItem>
))
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName

const MenubarRadioItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.RadioItem>
))
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName

const MenubarLabel = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarLabel.displayName = MenubarPrimitive.Label.displayName

const MenubarSeparator = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName

const MenubarShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
MenubarShortcut.displayname = "MenubarShortcut"

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
}


==================================================
File: src/components/ui/popover.tsx
==================================================

"use client"

import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

const Popover = PopoverPrimitive.Root

const PopoverTrigger = PopoverPrimitive.Trigger

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
))
PopoverContent.displayName = PopoverPrimitive.Content.displayName

export { Popover, PopoverTrigger, PopoverContent }


==================================================
File: src/components/ui/progress.tsx
==================================================

"use client"

import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
>(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      "relative h-4 w-full overflow-hidden rounded-full bg-secondary",
      className
    )}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
))
Progress.displayName = ProgressPrimitive.Root.displayName

export { Progress }


==================================================
File: src/components/ui/radio-group.tsx
==================================================

"use client"

import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn("grid gap-2", className)}
      {...props}
      ref={ref}
    />
  )
})
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
})
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName

export { RadioGroup, RadioGroupItem }


==================================================
File: src/components/ui/scroll-area.tsx
==================================================

"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn("relative overflow-hidden", className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" &&
        "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" &&
        "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }


==================================================
File: src/components/ui/select.tsx
==================================================

"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}


==================================================
File: src/components/ui/separator.tsx
==================================================

"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    />
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }


==================================================
File: src/components/ui/sheet.tsx
==================================================

"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = "right", className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}


==================================================
File: src/components/ui/sidebar.tsx
==================================================

"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { VariantProps, cva } from "class-variance-authority"
import { PanelLeft } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import { Sheet, SheetContent } from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContext = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContext | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

const SidebarProvider = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    defaultOpen?: boolean
    open?: boolean
    onOpenChange?: (open: boolean) => void
  }
>(
  (
    {
      defaultOpen = true,
      open: openProp,
      onOpenChange: setOpenProp,
      className,
      style,
      children,
      ...props
    },
    ref
  ) => {
    const isMobile = useIsMobile()
    const [openMobile, setOpenMobile] = React.useState(false)

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen)
    const open = openProp ?? _open
    const setOpen = React.useCallback(
      (value: boolean | ((value: boolean) => boolean)) => {
        const openState = typeof value === "function" ? value(open) : value
        if (setOpenProp) {
          setOpenProp(openState)
        } else {
          _setOpen(openState)
        }

        // This sets the cookie to keep the sidebar state.
        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
      },
      [setOpenProp, open]
    )

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() => {
      return isMobile
        ? setOpenMobile((open) => !open)
        : setOpen((open) => !open)
    }, [isMobile, setOpen, setOpenMobile])

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() => {
      const handleKeyDown = (event: KeyboardEvent) => {
        if (
          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
          (event.metaKey || event.ctrlKey)
        ) {
          event.preventDefault()
          toggleSidebar()
        }
      }

      window.addEventListener("keydown", handleKeyDown)
      return () => window.removeEventListener("keydown", handleKeyDown)
    }, [toggleSidebar])

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? "expanded" : "collapsed"

    const contextValue = React.useMemo<SidebarContext>(
      () => ({
        state,
        open,
        setOpen,
        isMobile,
        openMobile,
        setOpenMobile,
        toggleSidebar,
      }),
      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    )

    return (
      <SidebarContext.Provider value={contextValue}>
        <TooltipProvider delayDuration={0}>
          <div
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH,
                "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
                ...style,
              } as React.CSSProperties
            }
            className={cn(
              "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
              className
            )}
            ref={ref}
            {...props}
          >
            {children}
          </div>
        </TooltipProvider>
      </SidebarContext.Provider>
    )
  }
)
SidebarProvider.displayName = "SidebarProvider"

const Sidebar = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    side?: "left" | "right"
    variant?: "sidebar" | "floating" | "inset"
    collapsible?: "offcanvas" | "icon" | "none"
  }
>(
  (
    {
      side = "left",
      variant = "sidebar",
      collapsible = "offcanvas",
      className,
      children,
      ...props
    },
    ref
  ) => {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

    if (collapsible === "none") {
      return (
        <div
          className={cn(
            "flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",
            className
          )}
          ref={ref}
          {...props}
        >
          {children}
        </div>
      )
    }

    if (isMobile) {
      return (
        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
          <SheetContent
            data-sidebar="sidebar"
            data-mobile="true"
            className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
              } as React.CSSProperties
            }
            side={side}
          >
            <div className="flex h-full w-full flex-col">{children}</div>
          </SheetContent>
        </Sheet>
      )
    }

    return (
      <div
        ref={ref}
        className="group peer hidden md:block text-sidebar-foreground"
        data-state={state}
        data-collapsible={state === "collapsed" ? collapsible : ""}
        data-variant={variant}
        data-side={side}
      >
        {/* This is what handles the sidebar gap on desktop */}
        <div
          className={cn(
            "duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear",
            "group-data-[collapsible=offcanvas]:w-0",
            "group-data-[side=right]:rotate-180",
            variant === "floating" || variant === "inset"
              ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]"
          )}
        />
        <div
          className={cn(
            "duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",
            side === "left"
              ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
              : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
            // Adjust the padding for floating and inset variants.
            variant === "floating" || variant === "inset"
              ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
            className
          )}
          {...props}
        >
          <div
            data-sidebar="sidebar"
            className="flex h-full w-full flex-col bg-sidebar backdrop-blur-sm group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
          >
            {children}
          </div>
        </div>
      </div>
    )
  }
)
Sidebar.displayName = "Sidebar"

const SidebarTrigger = React.forwardRef<
  React.ElementRef<typeof Button>,
  React.ComponentProps<typeof Button>
>(({ className, onClick, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      ref={ref}
      data-sidebar="trigger"
      variant="ghost"
      size="icon"
      className={cn("h-7 w-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeft />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
})
SidebarTrigger.displayName = "SidebarTrigger"

const SidebarRail = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button">
>(({ className, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      ref={ref}
      data-sidebar="rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex",
        "[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
})
SidebarRail.displayName = "SidebarRail"

const SidebarInset = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"main">
>(({ className, ...props }, ref) => {
  return (
    <main
      ref={ref}
      className={cn(
        "relative flex min-h-svh flex-1 flex-col bg-background",
        "peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className
      )}
      {...props}
    />
  )
})
SidebarInset.displayName = "SidebarInset"

const SidebarInput = React.forwardRef<
  React.ElementRef<typeof Input>,
  React.ComponentProps<typeof Input>
>(({ className, ...props }, ref) => {
  return (
    <Input
      ref={ref}
      data-sidebar="input"
      className={cn(
        "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
        className
      )}
      {...props}
    />
  )
})
SidebarInput.displayName = "SidebarInput"

const SidebarHeader = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarHeader.displayName = "SidebarHeader"

const SidebarFooter = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarFooter.displayName = "SidebarFooter"

const SidebarSeparator = React.forwardRef<
  React.ElementRef<typeof Separator>,
  React.ComponentProps<typeof Separator>
>(({ className, ...props }, ref) => {
  return (
    <Separator
      ref={ref}
      data-sidebar="separator"
      className={cn("mx-2 w-auto bg-sidebar-border", className)}
      {...props}
    />
  )
})
SidebarSeparator.displayName = "SidebarSeparator"

const SidebarContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarContent.displayName = "SidebarContent"

const SidebarGroup = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
})
SidebarGroup.displayName = "SidebarGroup"

const SidebarGroupLabel = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-label"
      className={cn(
        "duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupLabel.displayName = "SidebarGroupLabel"

const SidebarGroupAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-action"
      className={cn(
        "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupAction.displayName = "SidebarGroupAction"

const SidebarGroupContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="group-content"
    className={cn("w-full text-sm", className)}
    {...props}
  />
))
SidebarGroupContent.displayName = "SidebarGroupContent"

const SidebarMenu = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu"
    className={cn("flex w-full min-w-0 flex-col gap-1", className)}
    {...props}
  />
))
SidebarMenu.displayName = "SidebarMenu"

const SidebarMenuItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    data-sidebar="menu-item"
    className={cn("group/menu-item relative", className)}
    {...props}
  />
))
SidebarMenuItem.displayName = "SidebarMenuItem"

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const SidebarMenuButton = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    isActive?: boolean
    tooltip?: string | React.ComponentProps<typeof TooltipContent>
  } & VariantProps<typeof sidebarMenuButtonVariants>
>(
  (
    {
      asChild = false,
      isActive = false,
      variant = "default",
      size = "default",
      tooltip,
      className,
      ...props
    },
    ref
  ) => {
    const Comp = asChild ? Slot : "button"
    const { isMobile, state } = useSidebar()

    const button = (
      <Comp
        ref={ref}
        data-sidebar="menu-button"
        data-size={size}
        data-active={isActive}
        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
        {...props}
      />
    )

    if (!tooltip) {
      return button
    }

    if (typeof tooltip === "string") {
      tooltip = {
        children: tooltip,
      }
    }

    return (
      <Tooltip>
        <TooltipTrigger asChild>{button}</TooltipTrigger>
        <TooltipContent
          side="right"
          align="center"
          hidden={state !== "collapsed" || isMobile}
          {...tooltip}
        />
      </Tooltip>
    )
  }
)
SidebarMenuButton.displayName = "SidebarMenuButton"

const SidebarMenuAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    showOnHover?: boolean
  }
>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuAction.displayName = "SidebarMenuAction"

const SidebarMenuBadge = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="menu-badge"
    className={cn(
      "absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none",
      "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
      "peer-data-[size=sm]/menu-button:top-1",
      "peer-data-[size=default]/menu-button:top-1.5",
      "peer-data-[size=lg]/menu-button:top-2.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuBadge.displayName = "SidebarMenuBadge"

const SidebarMenuSkeleton = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    showIcon?: boolean
  }
>(({ className, showIcon = false, ...props }, ref) => {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("rounded-md h-8 flex gap-2 px-2 items-center", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 flex-1 max-w-[--skeleton-width]"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
})
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton"

const SidebarMenuSub = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu-sub"
    className={cn(
      "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuSub.displayName = "SidebarMenuSub"

const SidebarMenuSubItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ ...props }, ref) => <li ref={ref} {...props} />)
SidebarMenuSubItem.displayName = "SidebarMenuSubItem"

const SidebarMenuSubButton = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentProps<"a"> & {
    asChild?: boolean
    size?: "sm" | "md"
    isActive?: boolean
  }
>(({ asChild = false, size = "md", isActive, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuSubButton.displayName = "SidebarMenuSubButton"

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}


==================================================
File: src/components/ui/skeleton.tsx
==================================================

import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn("animate-pulse rounded-md bg-muted", className)}
      {...props}
    />
  )
}

export { Skeleton }


==================================================
File: src/components/ui/slider.tsx
==================================================

"use client"

import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

const Slider = React.forwardRef<
  React.ElementRef<typeof SliderPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex w-full touch-none select-none items-center",
      className
    )}
    {...props}
  >
    <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
  </SliderPrimitive.Root>
))
Slider.displayName = SliderPrimitive.Root.displayName

export { Slider }


==================================================
File: src/components/ui/switch.tsx
==================================================

"use client"

import * as React from "react"
import * as SwitchPrimitives from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",
      className
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"
      )}
    />
  </SwitchPrimitives.Root>
))
Switch.displayName = SwitchPrimitives.Root.displayName

export { Switch }


==================================================
File: src/components/ui/table.tsx
==================================================

import * as React from "react"

import { cn } from "@/lib/utils"

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    />
  </div>
))
Table.displayName = "Table"

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props}
  />
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    )}
    {...props}
  />
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  />
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",
      className
    )}
    {...props}
  />
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn("p-4 align-middle [&:has([role=checkbox])]:pr-0", className)}
    {...props}
  />
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  />
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}


==================================================
File: src/components/ui/tabs.tsx
==================================================

"use client"

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",
      className
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }


==================================================
File: src/components/ui/textarea.tsx
==================================================

import * as React from 'react';

import {cn} from '@/lib/utils';

const Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(
  ({className, ...props}, ref) => {
    return (
      <textarea
        className={cn(
          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',
          className
        )}
        ref={ref}
        {...props}
      />
    );
  }
);
Textarea.displayName = 'Textarea';

export {Textarea};


==================================================
File: src/components/ui/toast.tsx
==================================================

"use client"

import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold", className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}


==================================================
File: src/components/ui/toaster.tsx
==================================================

"use client"

import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport />
    </ToastProvider>
  )
}


==================================================
File: src/components/ui/tooltip.tsx
==================================================

"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }


==================================================
File: src/hooks/use-mobile.tsx
==================================================

import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}


==================================================
File: src/hooks/use-toast.ts
==================================================

"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }


==================================================
File: src/lib/games.ts
==================================================

import {
  type LucideIcon,
  Puzzle,
  Car,
  Brain,
  Dice5,
  Combine,
  Gamepad2,
  Hash,
  Crown,
} from "lucide-react";

export type Game = {
  name: string;
  description: string;
  icon: LucideIcon;
  href: string;
  wip?: boolean;
};

export const games: Game[] = [
  {
    name: "Tic-Tac-Toe",
    description: "The classic game of X's and O's.",
    icon: Hash,
    href: "/games/tic-tac-toe",
  },
  {
    name: "Chess",
    description: "Classic strategy board game.",
    icon: Crown,
    href: "/games/chess",
  },
  {
    name: "Car Racing",
    description: "High-speed racing action.",
    icon: Car,
    href: "/games/car-racing",
  },
  {
    name: "Mind Games",
    description: "Puzzles to test your logic.",
    icon: Brain,
    href: "/games/mind-games",
  },
  {
    name: "Ludo",
    description: "A classic family dice game.",
    icon: Dice5,
    href: "/games/ludo",
  },
  {
    name: "Snakes & Ladders",
    description: "Climb ladders and avoid snakes.",
    icon: Combine,
    href: "/games/snakes-and-ladders",
  },
];


==================================================
File: src/lib/placeholder-images.json
==================================================

{
  "placeholderImages": []
}

==================================================
File: src/lib/placeholder-images.ts
==================================================

import data from './placeholder-images.json';

export type ImagePlaceholder = {
  id: string;
  description: string;
  imageUrl: string;
  imageHint: string;
};

export const PlaceHolderImages: ImagePlaceholder[] = data.placeholderImages;


==================================================
File: src/lib/tools.ts
==================================================

import {
  Calculator,
  Sigma,
  Languages,
  Image,
  Scan,
  Feather,
  BrainCircuit,
  Youtube,
  Instagram,
  Facebook,
  PenTool,
  LayoutGrid,
  Wand2,
  AppWindow,
  Gamepad2,
  CircleDollarSign,
  type LucideIcon,
  Crown,
  FileCode,
  MessageCircle,
  QrCode,
} from "lucide-react";

export type Tool = {
  name: string;
  description: string;
  icon: LucideIcon;
  href: string;
  wip?: boolean;
};

export const tools: Tool[] = [
  {
    name: "Dashboard",
    description: "Overview of all tools.",
    icon: LayoutGrid,
    href: "/",
  },
  {
    name: "AI Chat",
    description: "Chat with an advanced AI.",
    icon: MessageCircle,
    href: "/ai-chat",
  },
  {
    name: "Money Converter",
    description: "Convert between currencies.",
    icon: CircleDollarSign,
    href: "/money-converter",
  },
   {
    name: "QR Code Scanner",
    description: "Scan QR codes with your camera.",
    icon: QrCode,
    href: "/qr-code-scanner",
  },
  {
    name: "Basic Calculator",
    description: "For simple arithmetic.",
    icon: Calculator,
    href: "/calculator",
  },
  {
    name: "Advanced Calculator",
    description: "Scientific calculations.",
    icon: Sigma,
    href: "/advanced-calculator",
  },
  {
    name: "Text Translator",
    description: "Translate between languages.",
    icon: Languages,
    href: "/translator",
  },
  {
    name: "Photo Editor",
    description: "Basic image adjustments.",
    icon: Image,
    href: "/photo-editor",
  },
  {
    name: "Advanced Photo Editor",
    description: "Edit photos with text prompts.",
    icon: Wand2,
    href: "/advanced-photo-editor",
  },
  {
    name: "BG Remover",
    description: "Remove photo backgrounds.",
    icon: Scan,
    href: "/background-remover",
  },
  {
    name: "Text Generator",
    description: "Generate creative text.",
    icon: Feather,
    href: "/text-generator",
  },
  {
    name: "Math Solver",
    description: "Solve math problems.",
    icon: BrainCircuit,
    href: "/math-solver",
  },
  {
    name: "App Builder",
    description: "Build apps with text prompts.",
    icon: AppWindow,
    href: "/app-builder",
  },
  {
    name: "Games",
    description: "Play fun offline games.",
    icon: Gamepad2,
    href: "/games",
  },
  {
    name: "Chess",
    description: "The classic game of strategy.",
    icon: Crown,
    href: "/games/chess",
  },
  {
    name: "Logo Generator",
    description: "Create unique logos.",
    icon: PenTool,
    href: "/logo-generator",
  },
  {
    name: "YouTube Downloader",
    description: "Download YouTube videos.",
    icon: Youtube,
    href: "/youtube-downloader",
  },
  {
    name: "Instagram Downloader",
    description: "Download Instagram videos.",
    icon: Instagram,
    href: "/instagram-downloader",
  },
  {
    name: "Facebook Downloader",
    description: "Download Facebook videos.",
    icon: Facebook,
    href: "/facebook-downloader",
  },
];


==================================================
File: src/lib/utils.ts
==================================================

import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}


==================================================
File: tailwind.config.js
==================================================

import {fontFamily} from 'tailwindcss/defaultTheme';

/** @type {import('tailwindcss').Config} */
export default {
  darkMode: ['class'],
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      fontFamily: {
        body: ['"PT Sans"', 'sans-serif'],
        headline: ['"PT Sans"', 'sans-serif'],
        code: ['monospace'],
      },
      colors: {
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        chart: {
          '1': 'hsl(var(--chart-1))',
          '2': 'hsl(var(--chart-2))',
          '3': 'hsl(var(--chart-3))',
          '4': 'hsl(var(--chart-4))',
          '5': 'hsl(var(--chart-5))',
        },
        sidebar: {
          DEFAULT: 'hsl(var(--sidebar-background))',
          foreground: 'hsl(var(--sidebar-foreground))',
          primary: 'hsl(var(--sidebar-primary))',
          'primary-foreground': 'hsl(var(--sidebar-primary-foreground))',
          accent: 'hsl(var(--sidebar-accent))',
          'accent-foreground': 'hsl(var(--sidebar-accent-foreground))',
          border: 'hsl(var(--sidebar-border))',
          ring: 'hsl(var(--sidebar-ring))',
        },
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      backdropBlur: {
        'xl': '24px',
      },
      keyframes: {
        'accordion-down': {
          from: {
            height: '0',
          },
          to: {
            height: 'var(--radix-accordion-content-height)',
          },
        },
        'accordion-up': {
          from: {
            height: 'var(--radix-accordion-content-height)',
          },
          to: {
            height: '0',
          },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
      },
    },
  },
  plugins: [require('tailwindcss-animate')],
};

==================================================
File: tsconfig.json
==================================================

{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"],
  "types": ["@types/jsqr"]
}
